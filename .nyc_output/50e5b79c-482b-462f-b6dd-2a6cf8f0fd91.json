{"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\index.js":{"path":"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":57}},"3":{"start":{"line":10,"column":12},"end":{"line":10,"column":70}},"4":{"start":{"line":12,"column":12},"end":{"line":12,"column":70}},"5":{"start":{"line":14,"column":15},"end":{"line":14,"column":76}},"6":{"start":{"line":16,"column":21},"end":{"line":16,"column":82}},"7":{"start":{"line":18,"column":39},"end":{"line":18,"column":95}},"8":{"start":{"line":20,"column":10},"end":{"line":20,"column":36}},"9":{"start":{"line":21,"column":0},"end":{"line":21,"column":36}},"10":{"start":{"line":22,"column":0},"end":{"line":22,"column":34}},"11":{"start":{"line":23,"column":0},"end":{"line":23,"column":34}},"12":{"start":{"line":24,"column":0},"end":{"line":24,"column":37}},"13":{"start":{"line":25,"column":0},"end":{"line":30,"column":3}},"14":{"start":{"line":26,"column":2},"end":{"line":29,"column":5}},"15":{"start":{"line":31,"column":11},"end":{"line":31,"column":41}},"16":{"start":{"line":32,"column":13},"end":{"line":34,"column":2}},"17":{"start":{"line":33,"column":2},"end":{"line":33,"column":64}},"18":{"start":{"line":35,"column":15},"end":{"line":35,"column":21}},"19":{"start":{"line":36,"column":0},"end":{"line":36,"column":30}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":18,"column":9},"end":{"line":18,"column":31}},"loc":{"start":{"line":18,"column":37},"end":{"line":18,"column":97}},"line":18},"1":{"name":"(anonymous_1)","decl":{"start":{"line":25,"column":13},"end":{"line":25,"column":14}},"loc":{"start":{"line":25,"column":33},"end":{"line":30,"column":1}},"line":25},"2":{"name":"(anonymous_2)","decl":{"start":{"line":32,"column":30},"end":{"line":32,"column":31}},"loc":{"start":{"line":32,"column":42},"end":{"line":34,"column":1}},"line":32}},"branchMap":{"0":{"loc":{"start":{"line":18,"column":46},"end":{"line":18,"column":94}},"type":"cond-expr","locations":[{"start":{"line":18,"column":70},"end":{"line":18,"column":73}},{"start":{"line":18,"column":76},"end":{"line":18,"column":94}}],"line":18},"1":{"loc":{"start":{"line":18,"column":46},"end":{"line":18,"column":67}},"type":"binary-expr","locations":[{"start":{"line":18,"column":46},"end":{"line":18,"column":49}},{"start":{"line":18,"column":53},"end":{"line":18,"column":67}}],"line":18}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":5,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1},"f":{"0":5,"1":1,"2":1},"b":{"0":[4,1],"1":[5,5]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["app","use","express","json","usersRouter","blogsRouter","messagesRouter","req","res","status","send","message","port","config","server","listen","console","log"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,IAAMA,GAAG,GAAG,0BAAZ;AAEAA,GAAG,CAACC,GAAJ,CAAQC,oBAAQC,IAAR,EAAR;AAEAH,GAAG,CAACC,GAAJ,CAAQ,MAAR,EAAgBG,gBAAhB;AAEAJ,GAAG,CAACC,GAAJ,CAAQ,MAAR,EAAgBI,gBAAhB;AAEAL,GAAG,CAACC,GAAJ,CAAQ,MAAR,EAAgBK,mBAAhB;AAGAN,GAAG,CAACC,GAAJ,CAAQ,GAAR,EAAa,UAACM,GAAD,EAAMC,GAAN,EAAc;AAAEA,EAAAA,GAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,IAAAA,MAAM,EAAE,GAAV;AAAeE,IAAAA,OAAO,EAAE;AAAxB,GAArB;AAAsE,CAAnG;IAEQC,I,GAASC,yB,CAATD,I;AAER,IAAME,MAAM,GAAGd,GAAG,CAACe,MAAJ,CAAWH,IAAX,EAAiB;AAAA,SAAMI,OAAO,CAACC,GAAR,6BAAiCL,IAAjC,UAAN;AAAA,CAAjB,CAAf;eAEeE,M","sourceRoot":"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\","sourcesContent":["import express from 'express';\r\nimport usersRouter from './src/routes/user.route';\r\nimport blogsRouter from './src/routes/blog.route';\r\nimport messagesRouter from './src/routes/message.route';\r\nimport config from './src/config/configulation';\r\n\r\nconst app = express();\r\n\r\napp.use(express.json());\r\n\r\napp.use('/api', usersRouter);\r\n\r\napp.use('/api', blogsRouter);\r\n\r\napp.use('/api', messagesRouter);\r\n\r\n\r\napp.use('/', (req, res) => { res.status(200).send({ status: 200, message: 'welcome to my app' }); });\r\n\r\nconst { port } = config;\r\n\r\nconst server = app.listen(port, () => console.log(`listening to port ${port}....`));\r\n\r\nexport default server;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8f9417da6ffc6eb67dc8c58c90596dc88acb986e","contentHash":"94d4c082795501c7aa692e1abbfd2102f5ec1564aee5ca55501b07ce87fed043"},"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\routes\\user.route.js":{"path":"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\routes\\user.route.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":57}},"3":{"start":{"line":10,"column":12},"end":{"line":10,"column":52}},"4":{"start":{"line":12,"column":13},"end":{"line":12,"column":53}},"5":{"start":{"line":14,"column":39},"end":{"line":14,"column":95}},"6":{"start":{"line":16,"column":18},"end":{"line":16,"column":46}},"7":{"start":{"line":18,"column":0},"end":{"line":18,"column":72}},"8":{"start":{"line":19,"column":0},"end":{"line":19,"column":70}},"9":{"start":{"line":20,"column":0},"end":{"line":20,"column":51}},"10":{"start":{"line":21,"column":15},"end":{"line":21,"column":26}},"11":{"start":{"line":22,"column":0},"end":{"line":22,"column":30}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":31}},"loc":{"start":{"line":14,"column":37},"end":{"line":14,"column":97}},"line":14}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":94}},"type":"cond-expr","locations":[{"start":{"line":14,"column":70},"end":{"line":14,"column":73}},{"start":{"line":14,"column":76},"end":{"line":14,"column":94}}],"line":14},"1":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":67}},"type":"binary-expr","locations":[{"start":{"line":14,"column":46},"end":{"line":14,"column":49}},{"start":{"line":14,"column":53},"end":{"line":14,"column":67}}],"line":14}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1},"f":{"0":1},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["user.route.js"],"names":["usersRouter","express","Router","post","validateSignup","signup","validateLogin","login","get","getAllUsers"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AAGA,IAAMA,WAAW,GAAGC,oBAAQC,MAAR,EAApB;;AAEAF,WAAW,CAACG,IAAZ,CAAiB,cAAjB,EAAiC,CAACC,oBAAD,CAAjC,EAAmDC,aAAnD;AAEAL,WAAW,CAACG,IAAZ,CAAiB,cAAjB,EAAiC,CAACG,mBAAD,CAAjC,EAAkDC,YAAlD;AAEAP,WAAW,CAACQ,GAAZ,CAAgB,aAAhB,EAA+BC,kBAA/B;eAEeT,W","sourceRoot":"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\routes\\","sourcesContent":["import express from 'express';\r\nimport { validateSignup, validateLogin } from '../middleware/user.validation';\r\nimport { signup, login, getAllUsers } from '../controller/user.controller';\r\n\r\n\r\nconst usersRouter = express.Router();\r\n\r\nusersRouter.post('/auth/signup', [validateSignup], signup);\r\n\r\nusersRouter.post('/auth/signin', [validateLogin], login);\r\n\r\nusersRouter.get('/auth/users', getAllUsers);\r\n\r\nexport default usersRouter;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a3e23177e5fcfe707689219de2166586639a436f","contentHash":"68534589f5c63ba0c76c7b5b56efc92784e9d21576af2ba24306c935a75afa34"},"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\middleware\\user.validation.js":{"path":"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\middleware\\user.validation.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":56}},"2":{"start":{"line":8,"column":12},"end":{"line":8,"column":43}},"3":{"start":{"line":10,"column":21},"end":{"line":19,"column":1}},"4":{"start":{"line":11,"column":21},"end":{"line":11,"column":48}},"5":{"start":{"line":12,"column":14},"end":{"line":12,"column":32}},"6":{"start":{"line":14,"column":2},"end":{"line":17,"column":5}},"7":{"start":{"line":14,"column":13},"end":{"line":17,"column":5}},"8":{"start":{"line":18,"column":2},"end":{"line":18,"column":9}},"9":{"start":{"line":21,"column":0},"end":{"line":21,"column":40}},"10":{"start":{"line":23,"column":20},"end":{"line":32,"column":1}},"11":{"start":{"line":24,"column":20},"end":{"line":24,"column":46}},"12":{"start":{"line":25,"column":14},"end":{"line":25,"column":31}},"13":{"start":{"line":27,"column":2},"end":{"line":30,"column":5}},"14":{"start":{"line":27,"column":13},"end":{"line":30,"column":5}},"15":{"start":{"line":31,"column":2},"end":{"line":31,"column":9}},"16":{"start":{"line":34,"column":0},"end":{"line":34,"column":38}}},"fnMap":{"0":{"name":"validateSignup","decl":{"start":{"line":10,"column":30},"end":{"line":10,"column":44}},"loc":{"start":{"line":10,"column":61},"end":{"line":19,"column":1}},"line":10},"1":{"name":"validateLogin","decl":{"start":{"line":23,"column":29},"end":{"line":23,"column":42}},"loc":{"start":{"line":23,"column":59},"end":{"line":32,"column":1}},"line":23}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":2},"end":{"line":17,"column":5}},"type":"if","locations":[{"start":{"line":14,"column":2},"end":{"line":17,"column":5}},{"start":{"line":14,"column":2},"end":{"line":17,"column":5}}],"line":14},"1":{"loc":{"start":{"line":27,"column":2},"end":{"line":30,"column":5}},"type":"if","locations":[{"start":{"line":27,"column":2},"end":{"line":30,"column":5}},{"start":{"line":27,"column":2},"end":{"line":30,"column":5}}],"line":27}},"s":{"0":1,"1":1,"2":1,"3":1,"4":5,"5":5,"6":5,"7":3,"8":2,"9":1,"10":1,"11":5,"12":5,"13":5,"14":2,"15":3,"16":1},"f":{"0":5,"1":5},"b":{"0":[3,2],"1":[2,3]},"inputSourceMap":{"version":3,"sources":["user.validation.js"],"names":["validateSignup","req","res","next","error","status","json","statusCode","details","message","validateLogin"],"mappings":";;;;;;;AAAA;;AAGA,IAAMA,cAAc,GAAG,SAAjBA,cAAiB,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAAA,qBACvB,uBAAYF,GAAZ,CADuB;AAAA,MACjCG,KADiC,gBACjCA,KADiC;;AAEzC,MAAIA,KAAJ,EAAW,OAAOF,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,IAAAA,MAAM,EAAEH,GAAG,CAACK,UAAd;AAA0BH,IAAAA,KAAK,EAAEA,KAAK,CAACI,OAAN,CAAc,CAAd,EAAiBC;AAAlD,GAArB,CAAP;AAEXN,EAAAA,IAAI;AACL,CALD;;;;AAOA,IAAMO,aAAa,GAAG,SAAhBA,aAAgB,CAACT,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAAA,oBACtB,sBAAWF,GAAX,CADsB;AAAA,MAChCG,KADgC,eAChCA,KADgC;;AAExC,MAAIA,KAAJ,EAAW,OAAOF,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,IAAAA,MAAM,EAAEH,GAAG,CAACK,UAAd;AAA0BH,IAAAA,KAAK,EAAEA,KAAK,CAACI,OAAN,CAAc,CAAd,EAAiBC;AAAlD,GAArB,CAAP;AAEXN,EAAAA,IAAI;AACL,CALD","sourceRoot":"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\middleware\\","sourcesContent":["import { signupInput, loginInput } from '../helper/user.input';\r\n\r\n\r\nconst validateSignup = (req, res, next) => {\r\n  const { error } = signupInput(req);\r\n  if (error) return res.status(400).json({ status: res.statusCode, error: error.details[0].message });\r\n\r\n  next();\r\n};\r\n\r\nconst validateLogin = (req, res, next) => {\r\n  const { error } = loginInput(req);\r\n  if (error) return res.status(400).json({ status: res.statusCode, error: error.details[0].message });\r\n\r\n  next();\r\n};\r\n\r\n\r\nexport { validateSignup, validateLogin };\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"5da38ce792bd13f3506a6f045ba2de52c0d100e2","contentHash":"ff83173aa3be061979a7646aeb84998d74358506c958139f395885c1e770bad7"},"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\helper\\user.input.js":{"path":"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\helper\\user.input.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":50}},"2":{"start":{"line":8,"column":11},"end":{"line":8,"column":55}},"3":{"start":{"line":10,"column":39},"end":{"line":10,"column":95}},"4":{"start":{"line":12,"column":18},"end":{"line":21,"column":1}},"5":{"start":{"line":13,"column":15},"end":{"line":18,"column":4}},"6":{"start":{"line":20,"column":2},"end":{"line":20,"column":35}},"7":{"start":{"line":23,"column":0},"end":{"line":23,"column":34}},"8":{"start":{"line":25,"column":17},"end":{"line":32,"column":1}},"9":{"start":{"line":26,"column":15},"end":{"line":29,"column":4}},"10":{"start":{"line":31,"column":2},"end":{"line":31,"column":35}},"11":{"start":{"line":34,"column":0},"end":{"line":34,"column":32}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":97}},"line":10},"1":{"name":"signupInput","decl":{"start":{"line":12,"column":27},"end":{"line":12,"column":38}},"loc":{"start":{"line":12,"column":44},"end":{"line":21,"column":1}},"line":12},"2":{"name":"loginInput","decl":{"start":{"line":25,"column":26},"end":{"line":25,"column":36}},"loc":{"start":{"line":25,"column":42},"end":{"line":32,"column":1}},"line":25}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":94}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":94}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":5,"6":5,"7":1,"8":1,"9":5,"10":5,"11":1},"f":{"0":1,"1":5,"2":5},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["user.input.js"],"names":["signupInput","req","schema","Joi","object","keys","name","string","required","min","max","email","password","role","optional","validate","body","loginInput"],"mappings":";;;;;;;AAAA;;;;AAEA,IAAMA,WAAW,GAAG,SAAdA,WAAc,CAACC,GAAD,EAAS;AAC3B,MAAMC,MAAM,GAAGC,gBAAIC,MAAJ,GAAaC,IAAb,CAAkB;AAC/BC,IAAAA,IAAI,EAAEH,gBAAII,MAAJ,GAAaC,QAAb,GAAwBC,GAAxB,CAA4B,CAA5B,EAA+BC,GAA/B,CAAmC,EAAnC,CADyB;AAE/BC,IAAAA,KAAK,EAAER,gBAAII,MAAJ,GAAaC,QAAb,GAAwBG,KAAxB,EAFwB;AAG/BC,IAAAA,QAAQ,EAAET,gBAAII,MAAJ,GAAaC,QAAb,GAAwBC,GAAxB,CAA4B,CAA5B,EAA+BC,GAA/B,CAAmC,EAAnC,CAHqB;AAI/BG,IAAAA,IAAI,EAAEV,gBAAII,MAAJ,GAAaO,QAAb;AAJyB,GAAlB,CAAf;;AAOA,SAAOZ,MAAM,CAACa,QAAP,CAAgBd,GAAG,CAACe,IAApB,CAAP;AACD,CATD;;;;AAWA,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAAChB,GAAD,EAAS;AAC1B,MAAMC,MAAM,GAAGC,gBAAIC,MAAJ,GAAaC,IAAb,CAAkB;AAC/BM,IAAAA,KAAK,EAAER,gBAAII,MAAJ,GAAaC,QAAb,GAAwBG,KAAxB,EADwB;AAE/BC,IAAAA,QAAQ,EAAET,gBAAII,MAAJ,GAAaC,QAAb,GAAwBC,GAAxB,CAA4B,CAA5B,EAA+BC,GAA/B,CAAmC,EAAnC;AAFqB,GAAlB,CAAf;;AAKA,SAAOR,MAAM,CAACa,QAAP,CAAgBd,GAAG,CAACe,IAApB,CAAP;AACD,CAPD","sourceRoot":"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\helper\\","sourcesContent":["import Joi from '@hapi/joi';\r\n\r\nconst signupInput = (req) => {\r\n  const schema = Joi.object().keys({\r\n    name: Joi.string().required().min(2).max(50),\r\n    email: Joi.string().required().email(),\r\n    password: Joi.string().required().min(6).max(15),\r\n    role: Joi.string().optional()\r\n  });\r\n\r\n  return schema.validate(req.body);\r\n};\r\n\r\nconst loginInput = (req) => {\r\n  const schema = Joi.object().keys({\r\n    email: Joi.string().required().email(),\r\n    password: Joi.string().required().min(6).max(15),\r\n  });\r\n\r\n  return schema.validate(req.body);\r\n};\r\n\r\nexport { signupInput, loginInput };\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8db671b6eba980457130f816e1d1929a08e3adeb","contentHash":"5bbb87bd95b6e67234589e41f74b6ea87f03b422c7ba7cf3274890f4c85333d0"},"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\controller\\user.controller.js":{"path":"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\controller\\user.controller.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":78}},"2":{"start":{"line":8,"column":12},"end":{"line":8,"column":27}},"3":{"start":{"line":10,"column":12},"end":{"line":10,"column":67}},"4":{"start":{"line":12,"column":25},"end":{"line":12,"column":87}},"5":{"start":{"line":14,"column":22},"end":{"line":14,"column":57}},"6":{"start":{"line":16,"column":39},"end":{"line":16,"column":95}},"7":{"start":{"line":18,"column":0},"end":{"line":18,"column":16}},"8":{"start":{"line":19,"column":12},"end":{"line":19,"column":14}},"9":{"start":{"line":20,"column":0},"end":{"line":20,"column":22}},"10":{"start":{"line":22,"column":13},"end":{"line":47,"column":1}},"11":{"start":{"line":23,"column":19},"end":{"line":25,"column":4}},"12":{"start":{"line":24,"column":4},"end":{"line":24,"column":41}},"13":{"start":{"line":26,"column":2},"end":{"line":29,"column":5}},"14":{"start":{"line":26,"column":18},"end":{"line":29,"column":5}},"15":{"start":{"line":30,"column":11},"end":{"line":30,"column":26}},"16":{"start":{"line":31,"column":13},"end":{"line":31,"column":37}},"17":{"start":{"line":32,"column":18},"end":{"line":32,"column":26}},"18":{"start":{"line":33,"column":13},"end":{"line":33,"column":27}},"19":{"start":{"line":34,"column":14},"end":{"line":34,"column":29}},"20":{"start":{"line":35,"column":17},"end":{"line":35,"column":35}},"21":{"start":{"line":36,"column":2},"end":{"line":36,"column":60}},"22":{"start":{"line":37,"column":13},"end":{"line":37,"column":66}},"23":{"start":{"line":38,"column":14},"end":{"line":38,"column":70}},"24":{"start":{"line":39,"column":2},"end":{"line":39,"column":19}},"25":{"start":{"line":40,"column":2},"end":{"line":46,"column":5}},"26":{"start":{"line":49,"column":0},"end":{"line":49,"column":24}},"27":{"start":{"line":51,"column":12},"end":{"line":75,"column":1}},"28":{"start":{"line":52,"column":19},"end":{"line":52,"column":27}},"29":{"start":{"line":53,"column":14},"end":{"line":53,"column":30}},"30":{"start":{"line":54,"column":17},"end":{"line":54,"column":36}},"31":{"start":{"line":55,"column":19},"end":{"line":57,"column":4}},"32":{"start":{"line":56,"column":4},"end":{"line":56,"column":36}},"33":{"start":{"line":58,"column":2},"end":{"line":61,"column":5}},"34":{"start":{"line":58,"column":19},"end":{"line":61,"column":5}},"35":{"start":{"line":62,"column":24},"end":{"line":62,"column":91}},"36":{"start":{"line":63,"column":2},"end":{"line":66,"column":5}},"37":{"start":{"line":63,"column":24},"end":{"line":66,"column":5}},"38":{"start":{"line":67,"column":14},"end":{"line":67,"column":81}},"39":{"start":{"line":68,"column":2},"end":{"line":74,"column":5}},"40":{"start":{"line":77,"column":0},"end":{"line":77,"column":22}},"41":{"start":{"line":79,"column":18},"end":{"line":94,"column":1}},"42":{"start":{"line":80,"column":19},"end":{"line":82,"column":4}},"43":{"start":{"line":81,"column":4},"end":{"line":81,"column":16}},"44":{"start":{"line":83,"column":2},"end":{"line":86,"column":5}},"45":{"start":{"line":83,"column":19},"end":{"line":86,"column":5}},"46":{"start":{"line":87,"column":17},"end":{"line":89,"column":4}},"47":{"start":{"line":88,"column":4},"end":{"line":88,"column":77}},"48":{"start":{"line":90,"column":2},"end":{"line":93,"column":5}},"49":{"start":{"line":96,"column":0},"end":{"line":96,"column":34}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":16,"column":9},"end":{"line":16,"column":31}},"loc":{"start":{"line":16,"column":37},"end":{"line":16,"column":97}},"line":16},"1":{"name":"signup","decl":{"start":{"line":22,"column":22},"end":{"line":22,"column":28}},"loc":{"start":{"line":22,"column":39},"end":{"line":47,"column":1}},"line":22},"2":{"name":"(anonymous_2)","decl":{"start":{"line":23,"column":30},"end":{"line":23,"column":31}},"loc":{"start":{"line":23,"column":46},"end":{"line":25,"column":3}},"line":23},"3":{"name":"login","decl":{"start":{"line":51,"column":21},"end":{"line":51,"column":26}},"loc":{"start":{"line":51,"column":37},"end":{"line":75,"column":1}},"line":51},"4":{"name":"(anonymous_4)","decl":{"start":{"line":55,"column":30},"end":{"line":55,"column":31}},"loc":{"start":{"line":55,"column":50},"end":{"line":57,"column":3}},"line":55},"5":{"name":"getAllUsers","decl":{"start":{"line":79,"column":27},"end":{"line":79,"column":38}},"loc":{"start":{"line":79,"column":49},"end":{"line":94,"column":1}},"line":79},"6":{"name":"(anonymous_6)","decl":{"start":{"line":80,"column":30},"end":{"line":80,"column":31}},"loc":{"start":{"line":80,"column":46},"end":{"line":82,"column":3}},"line":80},"7":{"name":"(anonymous_7)","decl":{"start":{"line":87,"column":28},"end":{"line":87,"column":29}},"loc":{"start":{"line":87,"column":44},"end":{"line":89,"column":3}},"line":87}},"branchMap":{"0":{"loc":{"start":{"line":16,"column":46},"end":{"line":16,"column":94}},"type":"cond-expr","locations":[{"start":{"line":16,"column":70},"end":{"line":16,"column":73}},{"start":{"line":16,"column":76},"end":{"line":16,"column":94}}],"line":16},"1":{"loc":{"start":{"line":16,"column":46},"end":{"line":16,"column":67}},"type":"binary-expr","locations":[{"start":{"line":16,"column":46},"end":{"line":16,"column":49}},{"start":{"line":16,"column":53},"end":{"line":16,"column":67}}],"line":16},"2":{"loc":{"start":{"line":26,"column":2},"end":{"line":29,"column":5}},"type":"if","locations":[{"start":{"line":26,"column":2},"end":{"line":29,"column":5}},{"start":{"line":26,"column":2},"end":{"line":29,"column":5}}],"line":26},"3":{"loc":{"start":{"line":31,"column":13},"end":{"line":31,"column":37}},"type":"binary-expr","locations":[{"start":{"line":31,"column":13},"end":{"line":31,"column":26}},{"start":{"line":31,"column":30},"end":{"line":31,"column":37}}],"line":31},"4":{"loc":{"start":{"line":58,"column":2},"end":{"line":61,"column":5}},"type":"if","locations":[{"start":{"line":58,"column":2},"end":{"line":61,"column":5}},{"start":{"line":58,"column":2},"end":{"line":61,"column":5}}],"line":58},"5":{"loc":{"start":{"line":63,"column":2},"end":{"line":66,"column":5}},"type":"if","locations":[{"start":{"line":63,"column":2},"end":{"line":66,"column":5}},{"start":{"line":63,"column":2},"end":{"line":66,"column":5}}],"line":63},"6":{"loc":{"start":{"line":83,"column":2},"end":{"line":86,"column":5}},"type":"if","locations":[{"start":{"line":83,"column":2},"end":{"line":86,"column":5}},{"start":{"line":83,"column":2},"end":{"line":86,"column":5}}],"line":83}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":2,"7":1,"8":1,"9":1,"10":1,"11":2,"12":1,"13":2,"14":0,"15":2,"16":2,"17":2,"18":2,"19":2,"20":2,"21":2,"22":2,"23":2,"24":2,"25":2,"26":1,"27":1,"28":3,"29":3,"30":3,"31":3,"32":3,"33":3,"34":1,"35":2,"36":2,"37":1,"38":1,"39":1,"40":1,"41":1,"42":2,"43":1,"44":2,"45":1,"46":1,"47":1,"48":1,"49":1},"f":{"0":2,"1":2,"2":1,"3":3,"4":3,"5":2,"6":1,"7":1},"b":{"0":[2,0],"1":[2,2],"2":[0,2],"3":[2,0],"4":[1,2],"5":[1,1],"6":[1,1]},"inputSourceMap":{"version":3,"sources":["user.controller.js"],"names":["users","signup","req","res","takenEmail","find","user","email","body","status","json","message","id","role","name","password","User","token","push","data","login","usersFound","userInfo","send","isPasswordValid","getAllUsers","allusers","sort","a","b","Date","createdOn","getTime"],"mappings":"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","sourceRoot":"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\controller\\","sourcesContent":["import { v4 as uuidv4 } from 'uuid';\r\nimport User from '../models/user.model';\r\nimport generateToken from '../helper/generateAuthToken';\r\nimport { encryptPassword, decryptPassword } from '../helper/hashedPassword';\r\n\r\nuuidv4(); \r\n\r\nconst users = [];\r\n\r\nconst signup = (req, res) => {\r\n\r\n\r\n  const takenEmail = users.find((user) => user.email === req.body.email);\r\n  if (takenEmail) return res.status(409).json({ status: 409, message: 'Email address already taken' });\r\n\r\n  const id = uuidv4();\r\n  const role = req.body.role  ||  \"guest\";\r\n\r\n  let { name, email, password } = req.body;\r\n\r\n  password = encryptPassword(password);\r\n  const user = new User(id, role, name, email, password);\r\n\r\n  const token = generateToken(id, user.email, role);\r\n\r\n  users.push(user);\r\n\r\n\r\n  res.status(201).json({ status: 201, message: 'User created successfully', data: { token } });\r\n};\r\n\r\nconst login = (req, res) => {\r\n  const { email, password } = req.body;\r\n\r\n  const usersFound = users.find(((userInfo) => userInfo.email === email));\r\n  if (!usersFound) return res.status(404).send({ status: 404, message: 'No associated account with this email' });\r\n\r\n  const isPasswordValid = decryptPassword(password, usersFound.password);\r\n  if (!isPasswordValid) return res.status(401).json({ status: 401, message: 'Incorrect password!' });\r\n\r\n  const token = generateToken(usersFound.id, usersFound.email);\r\n\r\n  res.status(200).json({ status: 200, message: 'loggin successfull', data: { token } });\r\n};\r\n\r\n\r\nconst getAllUsers = (req, res) => {\r\n\r\n  const usersFound = users.find((user) => user );\r\n\r\n  if (!usersFound) return res.status(404).json({ status: 404, message: 'There are no available users' });\r\n\r\n  const allusers = users.sort((a, b) => (new Date(b.createdOn)).getTime()\r\n  - (new Date(a.createdOn).getTime()));\r\n\r\n  res.status(200).json({ status: 200, data: allusers });\r\n};\r\n\r\nexport { signup, login, getAllUsers, users };"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2b2fde82b11a8d888cf438ebd10338dc6ad8c95b","contentHash":"d762b3d85021faae96a3fe90b12975f2ccf242c303ef38b244ea69df55ee3342"},"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\models\\user.model.js":{"path":"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\models\\user.model.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":8,"column":50},"end":{"line":8,"column":151}},"3":{"start":{"line":8,"column":92},"end":{"line":8,"column":149}},"4":{"start":{"line":10,"column":11},"end":{"line":18,"column":1}},"5":{"start":{"line":11,"column":2},"end":{"line":11,"column":30}},"6":{"start":{"line":13,"column":2},"end":{"line":13,"column":15}},"7":{"start":{"line":14,"column":2},"end":{"line":14,"column":19}},"8":{"start":{"line":15,"column":2},"end":{"line":15,"column":19}},"9":{"start":{"line":16,"column":2},"end":{"line":16,"column":21}},"10":{"start":{"line":17,"column":2},"end":{"line":17,"column":27}},"11":{"start":{"line":20,"column":15},"end":{"line":20,"column":19}},"12":{"start":{"line":21,"column":0},"end":{"line":21,"column":30}}},"fnMap":{"0":{"name":"_classCallCheck","decl":{"start":{"line":8,"column":9},"end":{"line":8,"column":24}},"loc":{"start":{"line":8,"column":48},"end":{"line":8,"column":153}},"line":8},"1":{"name":"User","decl":{"start":{"line":10,"column":20},"end":{"line":10,"column":24}},"loc":{"start":{"line":10,"column":58},"end":{"line":18,"column":1}},"line":10}},"branchMap":{"0":{"loc":{"start":{"line":8,"column":50},"end":{"line":8,"column":151}},"type":"if","locations":[{"start":{"line":8,"column":50},"end":{"line":8,"column":151}},{"start":{"line":8,"column":50},"end":{"line":8,"column":151}}],"line":8}},"s":{"0":1,"1":1,"2":2,"3":0,"4":1,"5":2,"6":2,"7":2,"8":2,"9":2,"10":2,"11":1,"12":1},"f":{"0":2,"1":2},"b":{"0":[0,2]},"inputSourceMap":{"version":3,"sources":["user.model.js"],"names":["User","id","role","name","email","password"],"mappings":";;;;;;;;;IAAMA,I,GACF,cAAYC,EAAZ,EAAgBC,IAAhB,EAAsBC,IAAtB,EAA4BC,KAA5B,EAAmCC,QAAnC,EAA6C;AAAA;;AAC3C,OAAKJ,EAAL,GAAUA,EAAV;AACA,OAAKC,IAAL,GAAYA,IAAZ;AACA,OAAKC,IAAL,GAAYA,IAAZ;AACA,OAAKC,KAAL,GAAaA,KAAb;AACA,OAAKC,QAAL,GAAgBA,QAAhB;AACD,C;;eAGYL,I","sourceRoot":"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\models\\","sourcesContent":["class User {\r\n    constructor(id, role, name, email, password) {\r\n      this.id = id;\r\n      this.role = role;\r\n      this.name = name;\r\n      this.email = email;\r\n      this.password = password;\r\n    }\r\n  }\r\n  \r\n  export default User;\r\n  "]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"fea58192e1c3d2a1f46383a12e87d53449a45a80","contentHash":"9384f57c1c13e1e48310309520acd9e344729243a88496f8a750d4c737585917"},"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\helper\\generateAuthToken.js":{"path":"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\helper\\generateAuthToken.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":8,"column":20},"end":{"line":8,"column":67}},"3":{"start":{"line":10,"column":14},"end":{"line":10,"column":55}},"4":{"start":{"line":12,"column":39},"end":{"line":12,"column":95}},"5":{"start":{"line":14,"column":0},"end":{"line":14,"column":28}},"6":{"start":{"line":16,"column":20},"end":{"line":26,"column":1}},"7":{"start":{"line":17,"column":14},"end":{"line":23,"column":4}},"8":{"start":{"line":25,"column":2},"end":{"line":25,"column":15}},"9":{"start":{"line":28,"column":15},"end":{"line":28,"column":28}},"10":{"start":{"line":29,"column":0},"end":{"line":29,"column":30}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":31}},"loc":{"start":{"line":12,"column":37},"end":{"line":12,"column":97}},"line":12},"1":{"name":"generateToken","decl":{"start":{"line":16,"column":29},"end":{"line":16,"column":42}},"loc":{"start":{"line":16,"column":60},"end":{"line":26,"column":1}},"line":16}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":94}},"type":"cond-expr","locations":[{"start":{"line":12,"column":70},"end":{"line":12,"column":73}},{"start":{"line":12,"column":76},"end":{"line":12,"column":94}}],"line":12},"1":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":67}},"type":"binary-expr","locations":[{"start":{"line":12,"column":46},"end":{"line":12,"column":49}},{"start":{"line":12,"column":53},"end":{"line":12,"column":67}}],"line":12}},"s":{"0":1,"1":1,"2":1,"3":1,"4":2,"5":1,"6":1,"7":4,"8":4,"9":1,"10":1},"f":{"0":2,"1":4},"b":{"0":[0,2],"1":[2,2]},"inputSourceMap":{"version":3,"sources":["generateAuthToken.js"],"names":["dotenv","config","generateToken","id","email","role","token","jwt","sign","Id","userEmail","process","env","JWT_PRIVATE_KEY","expiresIn"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEAA,mBAAOC,MAAP;;AAEA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,EAAD,EAAKC,KAAL,EAAYC,IAAZ,EAAqB;AACzC,MAAMC,KAAK,GAAGC,yBAAIC,IAAJ,CAAS;AAAEC,IAAAA,EAAE,EAAEN,EAAN;AAAUO,IAAAA,SAAS,EAAEN,KAArB;AAA4BC,IAAAA,IAAI,EAAEA;AAAlC,GAAT,EAAmDM,OAAO,CAACC,GAAR,CAAYC,eAA/D,EAAgF;AAAEC,IAAAA,SAAS,EAAE;AAAb,GAAhF,CAAd;;AAEA,SAAOR,KAAP;AACD,CAJD;;eAMeJ,a","sourceRoot":"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\helper\\","sourcesContent":["import jwt from 'jsonwebtoken';\r\nimport dotenv from 'dotenv'; \r\n\r\ndotenv.config();\r\n\r\nconst generateToken = (id, email, role) => {\r\n  const token = jwt.sign({ Id: id, userEmail: email, role: role }, process.env.JWT_PRIVATE_KEY, { expiresIn: '24h' });\r\n\r\n  return token;\r\n};\r\n\r\nexport default generateToken;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"80f0dc503a2c175354c0e314470d02e2e28a6d96","contentHash":"e3fbc527350033680f32d90a9f22b94f8258298dd7f1925a7e29f2fdda645b3e"},"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\helper\\hashedPassword.js":{"path":"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\helper\\hashedPassword.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":59}},"2":{"start":{"line":8,"column":16},"end":{"line":8,"column":59}},"3":{"start":{"line":10,"column":39},"end":{"line":10,"column":95}},"4":{"start":{"line":12,"column":22},"end":{"line":14,"column":1}},"5":{"start":{"line":13,"column":2},"end":{"line":13,"column":53}},"6":{"start":{"line":16,"column":0},"end":{"line":16,"column":42}},"7":{"start":{"line":18,"column":22},"end":{"line":20,"column":1}},"8":{"start":{"line":19,"column":2},"end":{"line":19,"column":64}},"9":{"start":{"line":22,"column":0},"end":{"line":22,"column":42}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":97}},"line":10},"1":{"name":"encryptPassword","decl":{"start":{"line":12,"column":31},"end":{"line":12,"column":46}},"loc":{"start":{"line":12,"column":57},"end":{"line":14,"column":1}},"line":12},"2":{"name":"decryptPassword","decl":{"start":{"line":18,"column":31},"end":{"line":18,"column":46}},"loc":{"start":{"line":18,"column":69},"end":{"line":20,"column":1}},"line":18}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":94}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":94}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":2,"6":1,"7":1,"8":2,"9":1},"f":{"0":1,"1":2,"2":2},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["hashedPassword.js"],"names":["encryptPassword","password","bcrypt","hashSync","decryptPassword","userPswd","hashedPswd","compareSync"],"mappings":";;;;;;;AAAA;;;;AAEA,IAAMA,eAAe,GAAG,SAAlBA,eAAkB,CAACC,QAAD;AAAA,SAAcC,qBAAOC,QAAP,CAAgBF,QAAhB,EAA0B,EAA1B,CAAd;AAAA,CAAxB;;;;AACA,IAAMG,eAAe,GAAG,SAAlBA,eAAkB,CAACC,QAAD,EAAWC,UAAX;AAAA,SAA0BJ,qBAAOK,WAAP,CAAmBF,QAAnB,EAA6BC,UAA7B,CAA1B;AAAA,CAAxB","sourceRoot":"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\helper\\","sourcesContent":["import bcrypt from 'bcryptjs';\r\n\r\nconst encryptPassword = (password) => bcrypt.hashSync(password, 10);\r\nconst decryptPassword = (userPswd, hashedPswd) => bcrypt.compareSync(userPswd, hashedPswd);\r\n\r\nexport { encryptPassword, decryptPassword };\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"cc2b3ba8a65bc6abb106d9cc5e91b6fa13b05548","contentHash":"f5a88d3b5b8044a805739c8dd26abafe5e3bda01585faf5498ac0fab2cfbf6b3"},"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\routes\\blog.route.js":{"path":"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\routes\\blog.route.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":57}},"3":{"start":{"line":10,"column":12},"end":{"line":10,"column":76}},"4":{"start":{"line":12,"column":23},"end":{"line":12,"column":63}},"5":{"start":{"line":14,"column":13},"end":{"line":14,"column":53}},"6":{"start":{"line":16,"column":39},"end":{"line":16,"column":95}},"7":{"start":{"line":18,"column":18},"end":{"line":18,"column":46}},"8":{"start":{"line":20,"column":0},"end":{"line":20,"column":102}},"9":{"start":{"line":21,"column":0},"end":{"line":21,"column":45}},"10":{"start":{"line":22,"column":0},"end":{"line":22,"column":48}},"11":{"start":{"line":23,"column":0},"end":{"line":23,"column":104}},"12":{"start":{"line":24,"column":0},"end":{"line":24,"column":90}},"13":{"start":{"line":25,"column":15},"end":{"line":25,"column":26}},"14":{"start":{"line":26,"column":0},"end":{"line":26,"column":30}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":16,"column":9},"end":{"line":16,"column":31}},"loc":{"start":{"line":16,"column":37},"end":{"line":16,"column":97}},"line":16}},"branchMap":{"0":{"loc":{"start":{"line":16,"column":46},"end":{"line":16,"column":94}},"type":"cond-expr","locations":[{"start":{"line":16,"column":70},"end":{"line":16,"column":73}},{"start":{"line":16,"column":76},"end":{"line":16,"column":94}}],"line":16},"1":{"loc":{"start":{"line":16,"column":46},"end":{"line":16,"column":67}},"type":"binary-expr","locations":[{"start":{"line":16,"column":46},"end":{"line":16,"column":49}},{"start":{"line":16,"column":53},"end":{"line":16,"column":67}}],"line":16}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":2,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1},"f":{"0":2},"b":{"0":[1,1],"1":[2,2]},"inputSourceMap":{"version":3,"sources":["blog.route.js"],"names":["blogsRouter","express","Router","post","verifyAuthToken","validateBlogInput","createNewBlog","get","getAllBlogs","getOneBlog","patch","updateBlog","deleteBlog"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAGA,IAAMA,WAAW,GAAGC,oBAAQC,MAAR,EAApB;;AAEAF,WAAW,CAACG,IAAZ,CAAiB,OAAjB,EAA0B,CAACC,gCAAD,EAAkBC,gBAAlB,CAA1B,EAAgEC,oBAAhE;AAEAN,WAAW,CAACO,GAAZ,CAAgB,OAAhB,EAAyBC,kBAAzB;AAEAR,WAAW,CAACO,GAAZ,CAAgB,WAAhB,EAA6BE,iBAA7B;AAEAT,WAAW,CAACU,KAAZ,CAAkB,WAAlB,EAA+B,CAACN,gCAAD,EAAkBC,gBAAlB,CAA/B,EAAqEM,iBAArE;AAEAX,WAAW,UAAX,CAAmB,WAAnB,EAAgC,CAACI,gCAAD,CAAhC,EAAmDQ,iBAAnD;eAEeZ,W","sourceRoot":"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\routes\\","sourcesContent":["import express from 'express';\r\nimport validateBlogInput  from '../middleware/blog.validation';\r\nimport { verifyAuthToken } from '../middleware/verifyAuthToken';\r\nimport { createNewBlog, getAllBlogs, getOneBlog, updateBlog, deleteBlog } from '../controller/blog.controller';\r\n\r\n\r\nconst blogsRouter = express.Router();\r\n\r\nblogsRouter.post('/blog', [verifyAuthToken, validateBlogInput], createNewBlog);\r\n\r\nblogsRouter.get('/blog', getAllBlogs);\r\n\r\nblogsRouter.get('/blog/:id', getOneBlog);\r\n\r\nblogsRouter.patch('/blog/:id', [verifyAuthToken, validateBlogInput], updateBlog);\r\n\r\nblogsRouter.delete('/blog/:id', [verifyAuthToken], deleteBlog);\r\n\r\nexport default blogsRouter;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"116d92dbb79b5d6f693eef436a67d7664f67532d","contentHash":"50f7bd01aaa90cbe7263c9073292eb5a2bbb3abadf7909076ebd5447765b30ff"},"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\middleware\\blog.validation.js":{"path":"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\middleware\\blog.validation.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":8,"column":12},"end":{"line":8,"column":67}},"3":{"start":{"line":10,"column":39},"end":{"line":10,"column":95}},"4":{"start":{"line":12,"column":24},"end":{"line":21,"column":1}},"5":{"start":{"line":13,"column":19},"end":{"line":13,"column":45}},"6":{"start":{"line":14,"column":14},"end":{"line":14,"column":30}},"7":{"start":{"line":16,"column":2},"end":{"line":19,"column":5}},"8":{"start":{"line":16,"column":13},"end":{"line":19,"column":5}},"9":{"start":{"line":20,"column":2},"end":{"line":20,"column":9}},"10":{"start":{"line":23,"column":15},"end":{"line":23,"column":32}},"11":{"start":{"line":24,"column":0},"end":{"line":24,"column":30}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":97}},"line":10},"1":{"name":"validateBlogInput","decl":{"start":{"line":12,"column":33},"end":{"line":12,"column":50}},"loc":{"start":{"line":12,"column":67},"end":{"line":21,"column":1}},"line":12}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":94}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":94}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10},"2":{"loc":{"start":{"line":16,"column":2},"end":{"line":19,"column":5}},"type":"if","locations":[{"start":{"line":16,"column":2},"end":{"line":19,"column":5}},{"start":{"line":16,"column":2},"end":{"line":19,"column":5}}],"line":16}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":1,"11":1},"f":{"0":1,"1":0},"b":{"0":[1,0],"1":[1,1],"2":[0,0]},"inputSourceMap":{"version":3,"sources":["blog.validation.js"],"names":["validateBlogInput","req","res","next","error","status","json","statusCode","details","message"],"mappings":";;;;;;;AAAA;;;;AAEA,IAAMA,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAAA,mBAC1B,sBAAUF,GAAV,CAD0B;AAAA,MACpCG,KADoC,cACpCA,KADoC;;AAE5C,MAAIA,KAAJ,EAAW,OAAOF,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,IAAAA,MAAM,EAAEH,GAAG,CAACK,UAAd;AAA0BH,IAAAA,KAAK,EAAEA,KAAK,CAACI,OAAN,CAAc,CAAd,EAAiBC;AAAlD,GAArB,CAAP;AAEXN,EAAAA,IAAI;AACL,CALD;;eAOeH,iB","sourceRoot":"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\middleware\\","sourcesContent":["import blogInput from '../helper/blog.input';\r\n\r\nconst validateBlogInput = (req, res, next) => {\r\n  const { error } = blogInput(req);\r\n  if (error) return res.status(400).json({ status: res.statusCode, error: error.details[0].message });\r\n\r\n  next();\r\n};\r\n\r\nexport default validateBlogInput;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f7da7f071a1b55e2a73c2daeb4d882f61a3ea444","contentHash":"70d41bdbea1a0f36705587df4f8bcb4b50dd2f0b8d0cfced3fed54dad9e5a467"},"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\helper\\blog.input.js":{"path":"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\helper\\blog.input.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":8,"column":11},"end":{"line":8,"column":55}},"3":{"start":{"line":10,"column":39},"end":{"line":10,"column":95}},"4":{"start":{"line":12,"column":16},"end":{"line":20,"column":1}},"5":{"start":{"line":13,"column":15},"end":{"line":17,"column":4}},"6":{"start":{"line":19,"column":2},"end":{"line":19,"column":35}},"7":{"start":{"line":22,"column":15},"end":{"line":22,"column":24}},"8":{"start":{"line":23,"column":0},"end":{"line":23,"column":30}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":97}},"line":10},"1":{"name":"blogInput","decl":{"start":{"line":12,"column":25},"end":{"line":12,"column":34}},"loc":{"start":{"line":12,"column":40},"end":{"line":20,"column":1}},"line":12}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":94}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":94}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":1,"8":1},"f":{"0":1,"1":0},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["blog.input.js"],"names":["blogInput","req","schema","Joi","object","keys","title","string","required","min","max","content","author","validate","body"],"mappings":";;;;;;;AAAA;;;;AAEA,IAAMA,SAAS,GAAG,SAAZA,SAAY,CAACC,GAAD,EAAS;AACvB,MAAMC,MAAM,GAAGC,gBAAIC,MAAJ,GAAaC,IAAb,CAAkB;AAC7BC,IAAAA,KAAK,EAAEH,gBAAII,MAAJ,GAAaC,QAAb,GAAwBC,GAAxB,CAA4B,CAA5B,EAA+BC,GAA/B,CAAmC,GAAnC,CADsB;AAE7BC,IAAAA,OAAO,EAAER,gBAAII,MAAJ,GAAaC,QAAb,GAAwBC,GAAxB,CAA4B,CAA5B,CAFoB;AAG7BG,IAAAA,MAAM,EAAET,gBAAII,MAAJ,GAAaC,QAAb;AAHqB,GAAlB,CAAf;;AAMA,SAAON,MAAM,CAACW,QAAP,CAAgBZ,GAAG,CAACa,IAApB,CAAP;AACD,CARH;;eAWed,S","sourceRoot":"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\helper\\","sourcesContent":["import Joi from '@hapi/joi';\r\n\r\nconst blogInput = (req) => {\r\n    const schema = Joi.object().keys({\r\n        title: Joi.string().required().min(3).max(150),\r\n        content: Joi.string().required().min(5),\r\n        author: Joi.string().required(),\r\n    });\r\n  \r\n    return schema.validate(req.body);\r\n  };\r\n  \r\n\r\nexport default blogInput;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6d74644ed5d20f81555176a2b0fe86530ef7f403","contentHash":"419fac37ec2d1b19d3df8c4ec01cd47826ea864ac22a536f39320a0cf022f2fc"},"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\middleware\\verifyAuthToken.js":{"path":"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\middleware\\verifyAuthToken.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":60}},"2":{"start":{"line":8,"column":20},"end":{"line":8,"column":67}},"3":{"start":{"line":10,"column":14},"end":{"line":10,"column":55}},"4":{"start":{"line":12,"column":39},"end":{"line":12,"column":95}},"5":{"start":{"line":14,"column":0},"end":{"line":14,"column":28}},"6":{"start":{"line":16,"column":22},"end":{"line":36,"column":1}},"7":{"start":{"line":17,"column":19},"end":{"line":17,"column":44}},"8":{"start":{"line":19,"column":2},"end":{"line":24,"column":3}},"9":{"start":{"line":20,"column":4},"end":{"line":22,"column":7}},"10":{"start":{"line":23,"column":4},"end":{"line":23,"column":11}},"11":{"start":{"line":26,"column":14},"end":{"line":26,"column":24}},"12":{"start":{"line":28,"column":2},"end":{"line":35,"column":5}},"13":{"start":{"line":29,"column":4},"end":{"line":32,"column":7}},"14":{"start":{"line":29,"column":13},"end":{"line":32,"column":7}},"15":{"start":{"line":33,"column":4},"end":{"line":33,"column":32}},"16":{"start":{"line":34,"column":4},"end":{"line":34,"column":11}},"17":{"start":{"line":38,"column":0},"end":{"line":38,"column":42}},"18":{"start":{"line":40,"column":23},"end":{"line":65,"column":1}},"19":{"start":{"line":41,"column":19},"end":{"line":41,"column":44}},"20":{"start":{"line":43,"column":2},"end":{"line":48,"column":3}},"21":{"start":{"line":44,"column":4},"end":{"line":46,"column":7}},"22":{"start":{"line":47,"column":4},"end":{"line":47,"column":11}},"23":{"start":{"line":50,"column":14},"end":{"line":50,"column":24}},"24":{"start":{"line":52,"column":2},"end":{"line":64,"column":5}},"25":{"start":{"line":53,"column":4},"end":{"line":56,"column":7}},"26":{"start":{"line":53,"column":13},"end":{"line":56,"column":7}},"27":{"start":{"line":57,"column":4},"end":{"line":57,"column":32}},"28":{"start":{"line":58,"column":15},"end":{"line":58,"column":32}},"29":{"start":{"line":59,"column":4},"end":{"line":62,"column":7}},"30":{"start":{"line":59,"column":25},"end":{"line":62,"column":7}},"31":{"start":{"line":63,"column":4},"end":{"line":63,"column":11}},"32":{"start":{"line":67,"column":0},"end":{"line":67,"column":44}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":31}},"loc":{"start":{"line":12,"column":37},"end":{"line":12,"column":97}},"line":12},"1":{"name":"verifyAuthToken","decl":{"start":{"line":16,"column":31},"end":{"line":16,"column":46}},"loc":{"start":{"line":16,"column":63},"end":{"line":36,"column":1}},"line":16},"2":{"name":"(anonymous_2)","decl":{"start":{"line":28,"column":70},"end":{"line":28,"column":71}},"loc":{"start":{"line":28,"column":99},"end":{"line":35,"column":3}},"line":28},"3":{"name":"verifyAdminToken","decl":{"start":{"line":40,"column":32},"end":{"line":40,"column":48}},"loc":{"start":{"line":40,"column":65},"end":{"line":65,"column":1}},"line":40},"4":{"name":"(anonymous_4)","decl":{"start":{"line":52,"column":70},"end":{"line":52,"column":71}},"loc":{"start":{"line":52,"column":99},"end":{"line":64,"column":3}},"line":52}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":94}},"type":"cond-expr","locations":[{"start":{"line":12,"column":70},"end":{"line":12,"column":73}},{"start":{"line":12,"column":76},"end":{"line":12,"column":94}}],"line":12},"1":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":67}},"type":"binary-expr","locations":[{"start":{"line":12,"column":46},"end":{"line":12,"column":49}},{"start":{"line":12,"column":53},"end":{"line":12,"column":67}}],"line":12},"2":{"loc":{"start":{"line":19,"column":2},"end":{"line":24,"column":3}},"type":"if","locations":[{"start":{"line":19,"column":2},"end":{"line":24,"column":3}},{"start":{"line":19,"column":2},"end":{"line":24,"column":3}}],"line":19},"3":{"loc":{"start":{"line":29,"column":4},"end":{"line":32,"column":7}},"type":"if","locations":[{"start":{"line":29,"column":4},"end":{"line":32,"column":7}},{"start":{"line":29,"column":4},"end":{"line":32,"column":7}}],"line":29},"4":{"loc":{"start":{"line":43,"column":2},"end":{"line":48,"column":3}},"type":"if","locations":[{"start":{"line":43,"column":2},"end":{"line":48,"column":3}},{"start":{"line":43,"column":2},"end":{"line":48,"column":3}}],"line":43},"5":{"loc":{"start":{"line":53,"column":4},"end":{"line":56,"column":7}},"type":"if","locations":[{"start":{"line":53,"column":4},"end":{"line":56,"column":7}},{"start":{"line":53,"column":4},"end":{"line":56,"column":7}}],"line":53},"6":{"loc":{"start":{"line":59,"column":4},"end":{"line":62,"column":7}},"type":"if","locations":[{"start":{"line":59,"column":4},"end":{"line":62,"column":7}},{"start":{"line":59,"column":4},"end":{"line":62,"column":7}}],"line":59}},"s":{"0":1,"1":1,"2":1,"3":1,"4":2,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":1,"18":1,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":1},"f":{"0":2,"1":0,"2":0,"3":0,"4":0},"b":{"0":[0,2],"1":[2,2],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"inputSourceMap":{"version":3,"sources":["verifyAuthToken.js"],"names":["dotenv","config","verifyAuthToken","req","res","next","authHeader","headers","authorization","status","json","err","token","jwt","verify","process","env","JWT_PRIVATE_KEY","decodedToken","error","authUser","verifyAdminToken","role","send","message"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEAA,mBAAOC,MAAP;;AAEA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC1C,MAAMC,UAAU,GAAGH,GAAG,CAACI,OAAJ,CAAYC,aAA/B;;AACA,MAAI,OAAOF,UAAP,KAAsB,WAA1B,EAAuC;AACrCF,IAAAA,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,GAAG,EAAE;AAAP,KAArB;AACA;AACD;;AACD,MAAMC,KAAK,GAAGN,UAAd;;AAGEO,2BAAIC,MAAJ,CAAWF,KAAX,EAAkBG,OAAO,CAACC,GAAR,CAAYC,eAA9B,EAA+C,UAACN,GAAD,EAAMO,YAAN,EAAuB;AAEtE,QAAIP,GAAJ,EAAS,OAAOP,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAES,MAAAA,KAAK,EAAE,+BAAT;AAA0CR,MAAAA,GAAG,EAAHA;AAA1C,KAArB,CAAP;AAETR,IAAAA,GAAG,CAACiB,QAAJ,GAAeF,YAAf;AAEAb,IAAAA,IAAI;AACL,GAPC;AAQH,CAjBD;;;;AAoBA,IAAMgB,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAClB,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC3C,MAAMC,UAAU,GAAGH,GAAG,CAACI,OAAJ,CAAYC,aAA/B;;AACA,MAAI,OAAOF,UAAP,KAAsB,WAA1B,EAAuC;AACrCF,IAAAA,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,GAAG,EAAE;AAAP,KAArB;AACA;AACD;;AACD,MAAMC,KAAK,GAAGN,UAAd;;AAGEO,2BAAIC,MAAJ,CAAWF,KAAX,EAAkBG,OAAO,CAACC,GAAR,CAAYC,eAA9B,EAA+C,UAACN,GAAD,EAAMO,YAAN,EAAuB;AAEtE,QAAIP,GAAJ,EAAS,OAAOP,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAES,MAAAA,KAAK,EAAE,+BAAT;AAA0CR,MAAAA,GAAG,EAAHA;AAA1C,KAArB,CAAP;AAETR,IAAAA,GAAG,CAACiB,QAAJ,GAAeF,YAAf;AAEA,QAAMI,IAAI,GAAGnB,GAAG,CAACiB,QAAJ,CAAaE,IAA1B;AAEA,QAAIA,IAAI,IAAI,OAAZ,EAAqB,OAAOlB,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBc,IAAhB,CAAqB;AAAEd,MAAAA,MAAM,EAAE,GAAV;AAAee,MAAAA,OAAO,EAAE;AAAxB,KAArB,CAAP;AAErBnB,IAAAA,IAAI;AACL,GAXC;AAYH,CArBD","sourceRoot":"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\middleware\\","sourcesContent":["import jwt from 'jsonwebtoken';\r\nimport dotenv from 'dotenv';\r\n\r\ndotenv.config();\r\n\r\nconst verifyAuthToken = (req, res, next) => {\r\n  const authHeader = req.headers.authorization;\r\n  if (typeof authHeader === 'undefined') {\r\n    res.status(401).json({ err: 'Unauthorised - Header Not Set' });\r\n    return;\r\n  }\r\n  const token = authHeader;\r\n\r\n\r\n    jwt.verify(token, process.env.JWT_PRIVATE_KEY, (err, decodedToken) => {\r\n\r\n    if (err) return res.status(401).json({ error: 'Unauthorised or Invalid Token', err });\r\n\r\n    req.authUser = decodedToken;\r\n\r\n    next();\r\n  });\r\n};\r\n\r\n\r\nconst verifyAdminToken = (req, res, next) => {\r\n  const authHeader = req.headers.authorization;\r\n  if (typeof authHeader === 'undefined') {\r\n    res.status(401).json({ err: 'Unauthorised - Header Not Set' });\r\n    return;\r\n  }\r\n  const token = authHeader;\r\n\r\n\r\n    jwt.verify(token, process.env.JWT_PRIVATE_KEY, (err, decodedToken) => {\r\n\r\n    if (err) return res.status(401).json({ error: 'Unauthorised or Invalid Token', err });\r\n\r\n    req.authUser = decodedToken;\r\n\r\n    const role = req.authUser.role\r\n\r\n    if (role != \"admin\") return res.status(401).send({ status: 401, message: 'Access denied! you are not an admin' });\r\n\r\n    next();\r\n  });\r\n};\r\n\r\nexport { verifyAuthToken, verifyAdminToken };\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"961b7c1e252fa45220f6298c2d10189ad3dfb7e6","contentHash":"bdc4efde1b1fcb321471d64959cab5dada768d1dc8698442be86941425c92a5d"},"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\controller\\blog.controller.js":{"path":"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\controller\\blog.controller.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":116}},"2":{"start":{"line":8,"column":12},"end":{"line":8,"column":27}},"3":{"start":{"line":10,"column":12},"end":{"line":10,"column":67}},"4":{"start":{"line":12,"column":39},"end":{"line":12,"column":95}},"5":{"start":{"line":14,"column":0},"end":{"line":14,"column":16}},"6":{"start":{"line":15,"column":12},"end":{"line":15,"column":14}},"7":{"start":{"line":17,"column":20},"end":{"line":27,"column":1}},"8":{"start":{"line":18,"column":14},"end":{"line":18,"column":36}},"9":{"start":{"line":19,"column":11},"end":{"line":19,"column":26}},"10":{"start":{"line":20,"column":13},"end":{"line":20,"column":124}},"11":{"start":{"line":21,"column":2},"end":{"line":21,"column":19}},"12":{"start":{"line":22,"column":2},"end":{"line":26,"column":5}},"13":{"start":{"line":29,"column":0},"end":{"line":29,"column":38}},"14":{"start":{"line":31,"column":18},"end":{"line":46,"column":1}},"15":{"start":{"line":32,"column":18},"end":{"line":34,"column":4}},"16":{"start":{"line":33,"column":4},"end":{"line":33,"column":16}},"17":{"start":{"line":35,"column":2},"end":{"line":38,"column":5}},"18":{"start":{"line":35,"column":18},"end":{"line":38,"column":5}},"19":{"start":{"line":39,"column":17},"end":{"line":41,"column":4}},"20":{"start":{"line":40,"column":4},"end":{"line":40,"column":77}},"21":{"start":{"line":42,"column":2},"end":{"line":45,"column":5}},"22":{"start":{"line":48,"column":0},"end":{"line":48,"column":34}},"23":{"start":{"line":50,"column":17},"end":{"line":62,"column":1}},"24":{"start":{"line":51,"column":13},"end":{"line":53,"column":4}},"25":{"start":{"line":52,"column":4},"end":{"line":52,"column":37}},"26":{"start":{"line":54,"column":2},"end":{"line":57,"column":5}},"27":{"start":{"line":54,"column":13},"end":{"line":57,"column":5}},"28":{"start":{"line":58,"column":2},"end":{"line":61,"column":5}},"29":{"start":{"line":64,"column":0},"end":{"line":64,"column":32}},"30":{"start":{"line":66,"column":17},"end":{"line":87,"column":1}},"31":{"start":{"line":67,"column":13},"end":{"line":69,"column":4}},"32":{"start":{"line":68,"column":4},"end":{"line":68,"column":37}},"33":{"start":{"line":70,"column":2},"end":{"line":73,"column":5}},"34":{"start":{"line":70,"column":13},"end":{"line":73,"column":5}},"35":{"start":{"line":74,"column":19},"end":{"line":74,"column":41}},"36":{"start":{"line":75,"column":2},"end":{"line":78,"column":5}},"37":{"start":{"line":75,"column":32},"end":{"line":78,"column":5}},"38":{"start":{"line":79,"column":2},"end":{"line":79,"column":30}},"39":{"start":{"line":80,"column":2},"end":{"line":80,"column":34}},"40":{"start":{"line":81,"column":2},"end":{"line":81,"column":32}},"41":{"start":{"line":82,"column":2},"end":{"line":86,"column":5}},"42":{"start":{"line":89,"column":0},"end":{"line":89,"column":32}},"43":{"start":{"line":91,"column":17},"end":{"line":110,"column":1}},"44":{"start":{"line":92,"column":13},"end":{"line":94,"column":4}},"45":{"start":{"line":93,"column":4},"end":{"line":93,"column":37}},"46":{"start":{"line":95,"column":2},"end":{"line":98,"column":5}},"47":{"start":{"line":95,"column":13},"end":{"line":98,"column":5}},"48":{"start":{"line":99,"column":19},"end":{"line":99,"column":41}},"49":{"start":{"line":100,"column":2},"end":{"line":103,"column":5}},"50":{"start":{"line":100,"column":32},"end":{"line":103,"column":5}},"51":{"start":{"line":104,"column":14},"end":{"line":104,"column":33}},"52":{"start":{"line":105,"column":2},"end":{"line":105,"column":25}},"53":{"start":{"line":106,"column":2},"end":{"line":109,"column":5}},"54":{"start":{"line":112,"column":0},"end":{"line":112,"column":32}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":31}},"loc":{"start":{"line":12,"column":37},"end":{"line":12,"column":97}},"line":12},"1":{"name":"createNewBlog","decl":{"start":{"line":17,"column":29},"end":{"line":17,"column":42}},"loc":{"start":{"line":17,"column":53},"end":{"line":27,"column":1}},"line":17},"2":{"name":"getAllBlogs","decl":{"start":{"line":31,"column":27},"end":{"line":31,"column":38}},"loc":{"start":{"line":31,"column":49},"end":{"line":46,"column":1}},"line":31},"3":{"name":"(anonymous_3)","decl":{"start":{"line":32,"column":29},"end":{"line":32,"column":30}},"loc":{"start":{"line":32,"column":45},"end":{"line":34,"column":3}},"line":32},"4":{"name":"(anonymous_4)","decl":{"start":{"line":39,"column":28},"end":{"line":39,"column":29}},"loc":{"start":{"line":39,"column":44},"end":{"line":41,"column":3}},"line":39},"5":{"name":"getOneBlog","decl":{"start":{"line":50,"column":26},"end":{"line":50,"column":36}},"loc":{"start":{"line":50,"column":47},"end":{"line":62,"column":1}},"line":50},"6":{"name":"(anonymous_6)","decl":{"start":{"line":51,"column":24},"end":{"line":51,"column":25}},"loc":{"start":{"line":51,"column":40},"end":{"line":53,"column":3}},"line":51},"7":{"name":"updateBlog","decl":{"start":{"line":66,"column":26},"end":{"line":66,"column":36}},"loc":{"start":{"line":66,"column":47},"end":{"line":87,"column":1}},"line":66},"8":{"name":"(anonymous_8)","decl":{"start":{"line":67,"column":24},"end":{"line":67,"column":25}},"loc":{"start":{"line":67,"column":40},"end":{"line":69,"column":3}},"line":67},"9":{"name":"deleteBlog","decl":{"start":{"line":91,"column":26},"end":{"line":91,"column":36}},"loc":{"start":{"line":91,"column":47},"end":{"line":110,"column":1}},"line":91},"10":{"name":"(anonymous_10)","decl":{"start":{"line":92,"column":24},"end":{"line":92,"column":25}},"loc":{"start":{"line":92,"column":40},"end":{"line":94,"column":3}},"line":92}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":94}},"type":"cond-expr","locations":[{"start":{"line":12,"column":70},"end":{"line":12,"column":73}},{"start":{"line":12,"column":76},"end":{"line":12,"column":94}}],"line":12},"1":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":67}},"type":"binary-expr","locations":[{"start":{"line":12,"column":46},"end":{"line":12,"column":49}},{"start":{"line":12,"column":53},"end":{"line":12,"column":67}}],"line":12},"2":{"loc":{"start":{"line":35,"column":2},"end":{"line":38,"column":5}},"type":"if","locations":[{"start":{"line":35,"column":2},"end":{"line":38,"column":5}},{"start":{"line":35,"column":2},"end":{"line":38,"column":5}}],"line":35},"3":{"loc":{"start":{"line":54,"column":2},"end":{"line":57,"column":5}},"type":"if","locations":[{"start":{"line":54,"column":2},"end":{"line":57,"column":5}},{"start":{"line":54,"column":2},"end":{"line":57,"column":5}}],"line":54},"4":{"loc":{"start":{"line":70,"column":2},"end":{"line":73,"column":5}},"type":"if","locations":[{"start":{"line":70,"column":2},"end":{"line":73,"column":5}},{"start":{"line":70,"column":2},"end":{"line":73,"column":5}}],"line":70},"5":{"loc":{"start":{"line":75,"column":2},"end":{"line":78,"column":5}},"type":"if","locations":[{"start":{"line":75,"column":2},"end":{"line":78,"column":5}},{"start":{"line":75,"column":2},"end":{"line":78,"column":5}}],"line":75},"6":{"loc":{"start":{"line":95,"column":2},"end":{"line":98,"column":5}},"type":"if","locations":[{"start":{"line":95,"column":2},"end":{"line":98,"column":5}},{"start":{"line":95,"column":2},"end":{"line":98,"column":5}}],"line":95},"7":{"loc":{"start":{"line":100,"column":2},"end":{"line":103,"column":5}},"type":"if","locations":[{"start":{"line":100,"column":2},"end":{"line":103,"column":5}},{"start":{"line":100,"column":2},"end":{"line":103,"column":5}}],"line":100}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1,"23":1,"24":0,"25":0,"26":0,"27":0,"28":0,"29":1,"30":1,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":1,"43":1,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":1},"f":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"b":{"0":[1,0],"1":[1,1],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},"inputSourceMap":{"version":3,"sources":["blog.controller.js"],"names":["blogs","createNewBlog","req","res","email","authUser","userEmail","id","blog","Blogs","Date","toLocaleString","body","title","content","author","push","status","json","message","data","getAllBlogs","blogFound","find","error","allBlogs","sort","a","b","createdOn","getTime","getOneBlog","params","updateBlog","authhEmail","send","deleteBlog","index","indexOf","splice"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEA;AAEA,IAAMA,KAAK,GAAG,EAAd;;AAGA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,GAAD,EAAMC,GAAN,EAAc;AAEhC,MAAMC,KAAK,GAAGF,GAAG,CAACG,QAAJ,CAAaC,SAA3B;AACA,MAAMC,EAAE,GAAG,eAAX;AAEF,MAAMC,IAAI,GAAG,IAAIC,gBAAJ,CAAUF,EAAV,EAAcH,KAAd,EAAqB,IAAIM,IAAJ,GAAWC,cAAX,EAArB,EAAkDT,GAAG,CAACU,IAAJ,CAASC,KAA3D,EAAkEX,GAAG,CAACU,IAAJ,CAASE,OAA3E,EAAoFZ,GAAG,CAACU,IAAJ,CAASG,MAA7F,CAAb;AAEAf,EAAAA,KAAK,CAACgB,IAAN,CAAWR,IAAX;AAEAL,EAAAA,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,IAAAA,MAAM,EAAE,GAAV;AAAeE,IAAAA,OAAO,EAAE,2BAAxB;AAAqDC,IAAAA,IAAI,EAAEZ;AAA3D,GAArB;AACD,CAVD;;;;AAYA,IAAMa,WAAW,GAAG,SAAdA,WAAc,CAACnB,GAAD,EAAMC,GAAN,EAAc;AAEhC,MAAMmB,SAAS,GAAGtB,KAAK,CAACuB,IAAN,CAAW,UAACf,IAAD;AAAA,WAAUA,IAAV;AAAA,GAAX,CAAlB;AAEA,MAAI,CAACc,SAAL,EAAgB,OAAOnB,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,IAAAA,MAAM,EAAE,GAAV;AAAeO,IAAAA,KAAK,EAAE;AAAtB,GAArB,CAAP;AAEhB,MAAMC,QAAQ,GAAGzB,KAAK,CAAC0B,IAAN,CAAW,UAACC,CAAD,EAAIC,CAAJ;AAAA,WAAW,IAAIlB,IAAJ,CAASkB,CAAC,CAACC,SAAX,CAAD,CAAwBC,OAAxB,KACnC,IAAIpB,IAAJ,CAASiB,CAAC,CAACE,SAAX,EAAsBC,OAAtB,EADyB;AAAA,GAAX,CAAjB;AAGA3B,EAAAA,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,IAAAA,MAAM,EAAE,GAAV;AAAeG,IAAAA,IAAI,EAAEK;AAArB,GAArB;AACD,CAVD;;;;AAYA,IAAMM,UAAU,GAAG,SAAbA,UAAa,CAAC7B,GAAD,EAAMC,GAAN,EAAc;AAC/B,MAAMK,IAAI,GAAGR,KAAK,CAACuB,IAAN,CAAW,UAACf,IAAD;AAAA,WAAUA,IAAI,CAACD,EAAL,KAAYL,GAAG,CAAC8B,MAAJ,CAAWzB,EAAjC;AAAA,GAAX,CAAb;AAEA,MAAI,CAACC,IAAL,EAAW,OAAOL,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,IAAAA,MAAM,EAAE,GAAV;AAAeO,IAAAA,KAAK,qCAA8BtB,GAAG,CAAC8B,MAAJ,CAAWzB,EAAzC;AAApB,GAArB,CAAP;AAEX,SAAOJ,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,IAAAA,MAAM,EAAE,GAAV;AAAeG,IAAAA,IAAI,EAAEZ;AAArB,GAArB,CAAP;AACD,CAND;;;;AAQA,IAAMyB,UAAU,GAAG,SAAbA,UAAa,CAAC/B,GAAD,EAAMC,GAAN,EAAc;AAE/B,MAAMK,IAAI,GAAGR,KAAK,CAACuB,IAAN,CAAW,UAACf,IAAD;AAAA,WAAUA,IAAI,CAACD,EAAL,KAAYL,GAAG,CAAC8B,MAAJ,CAAWzB,EAAjC;AAAA,GAAX,CAAb;AAEA,MAAI,CAACC,IAAL,EAAW,OAAOL,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,IAAAA,MAAM,EAAE,GAAV;AAAeO,IAAAA,KAAK,qCAA8BtB,GAAG,CAAC8B,MAAJ,CAAWzB,EAAzC;AAApB,GAArB,CAAP;AAEX,MAAM2B,UAAU,GAAGhC,GAAG,CAACG,QAAJ,CAAaC,SAAhC;AACA,MAAIE,IAAI,CAACJ,KAAL,IAAc8B,UAAlB,EAA8B,OAAO/B,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBkB,IAAhB,CAAqB;AAAElB,IAAAA,MAAM,EAAE,GAAV;AAAeE,IAAAA,OAAO,EAAE;AAAxB,GAArB,CAAP;AAG9BX,EAAAA,IAAI,CAACK,KAAL,GAAaX,GAAG,CAACU,IAAJ,CAASC,KAAtB;AACAL,EAAAA,IAAI,CAACM,OAAL,GAAeZ,GAAG,CAACU,IAAJ,CAASE,OAAxB;AACAN,EAAAA,IAAI,CAACO,MAAL,GAAcb,GAAG,CAACU,IAAJ,CAASG,MAAvB;AAEA,SAAOZ,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,IAAAA,MAAM,EAAE,GAAV;AAAeE,IAAAA,OAAO,EAAE,2BAAxB;AAAqDC,IAAAA,IAAI,EAAEZ;AAA3D,GAArB,CAAP;AACD,CAfD;;;;AAiBA,IAAM4B,UAAU,GAAG,SAAbA,UAAa,CAAClC,GAAD,EAAMC,GAAN,EAAc;AAE/B,MAAMK,IAAI,GAAGR,KAAK,CAACuB,IAAN,CAAW,UAACf,IAAD;AAAA,WAAUA,IAAI,CAACD,EAAL,KAAYL,GAAG,CAAC8B,MAAJ,CAAWzB,EAAjC;AAAA,GAAX,CAAb;AAEA,MAAI,CAACC,IAAL,EAAW,OAAOL,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,IAAAA,MAAM,EAAE,GAAV;AAAeO,IAAAA,KAAK,qCAA8BtB,GAAG,CAAC8B,MAAJ,CAAWzB,EAAzC;AAApB,GAArB,CAAP;AAGX,MAAM2B,UAAU,GAAGhC,GAAG,CAACG,QAAJ,CAAaC,SAAhC;AACA,MAAIE,IAAI,CAACJ,KAAL,IAAc8B,UAAlB,EAA8B,OAAO/B,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBkB,IAAhB,CAAqB;AAAElB,IAAAA,MAAM,EAAE,GAAV;AAAeE,IAAAA,OAAO,EAAE;AAAxB,GAArB,CAAP;AAE9B,MAAMkB,KAAK,GAAGrC,KAAK,CAACsC,OAAN,CAAc9B,IAAd,CAAd;AAEAR,EAAAA,KAAK,CAACuC,MAAN,CAAaF,KAAb,EAAoB,CAApB;AAEA,SAAOlC,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,IAAAA,MAAM,EAAE,GAAV;AAAeE,IAAAA,OAAO,EAAE;AAAxB,GAArB,CAAP;AACD,CAfD","sourceRoot":"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\controller\\","sourcesContent":["import { v4 as uuidv4 } from 'uuid';\r\nimport Blogs from '../models/blog.model';\r\n\r\nuuidv4();\r\n\r\nconst blogs = [ ];\r\n\r\n\r\nconst createNewBlog = (req, res) => {\r\n\r\n    const email = req.authUser.userEmail;\r\n    const id = uuidv4();\r\n\r\n  const blog = new Blogs(id, email, new Date().toLocaleString(), req.body.title, req.body.content, req.body.author);\r\n\r\n  blogs.push(blog);\r\n\r\n  res.status(201).json({ status: 201, message: 'blog successfully created', data: blog });\r\n};\r\n\r\nconst getAllBlogs = (req, res) => {\r\n\r\n  const blogFound = blogs.find((blog) => blog );\r\n\r\n  if (!blogFound) return res.status(404).json({ status: 404, error: 'There are no created blogs' });\r\n\r\n  const allBlogs = blogs.sort((a, b) => (new Date(b.createdOn)).getTime()\r\n  - (new Date(a.createdOn).getTime()));\r\n\r\n  res.status(200).json({ status: 200, data: allBlogs });\r\n};\r\n\r\nconst getOneBlog = (req, res) => {\r\n  const blog = blogs.find((blog) => blog.id === req.params.id );\r\n\r\n  if (!blog) return res.status(404).json({ status: 404, error: `There is no blog with id ${req.params.id} ` });\r\n\r\n  return res.status(200).json({ status: 200, data: blog });\r\n};\r\n\r\nconst updateBlog = (req, res) => {\r\n\r\n  const blog = blogs.find((blog) => blog.id === req.params.id );\r\n\r\n  if (!blog) return res.status(404).json({ status: 404, error: `There is no blog with id ${req.params.id} ` });\r\n\r\n  const authhEmail = req.authUser.userEmail;\r\n  if (blog.email != authhEmail) return res.status(401).send({ status: 401, message: 'You are not authorized to perform this action' });\r\n\r\n\r\n  blog.title = req.body.title;\r\n  blog.content = req.body.content;\r\n  blog.author = req.body.author;\r\n\r\n  return res.status(200).json({ status: 200, message: 'blog successfully updated', data: blog });\r\n};\r\n\r\nconst deleteBlog = (req, res) => {\r\n     \r\n  const blog = blogs.find((blog) => blog.id === req.params.id );\r\n\r\n  if (!blog) return res.status(404).json({ status: 404, error: `There is no blog with id ${req.params.id} ` });\r\n\r\n  \r\n  const authhEmail = req.authUser.userEmail;\r\n  if (blog.email != authhEmail) return res.status(401).send({ status: 401, message: 'You are not authorized to perform this action' });\r\n\r\n  const index = blogs.indexOf(blog);\r\n\r\n  blogs.splice(index, 1);\r\n\r\n  return res.status(200).json({ status: 200, message: 'blog successfully deleted' });\r\n};\r\n\r\n\r\nexport { createNewBlog, getAllBlogs, getOneBlog, updateBlog, deleteBlog };"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"dd10d9a15eb02cab377370e2d7e3c156fb9686cd","contentHash":"62d99eb72b23282e3eb342225d2e44e57182afef1fbf9915aa3282e0060de819"},"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\models\\blog.model.js":{"path":"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\models\\blog.model.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":8,"column":50},"end":{"line":8,"column":151}},"3":{"start":{"line":8,"column":92},"end":{"line":8,"column":149}},"4":{"start":{"line":10,"column":11},"end":{"line":19,"column":1}},"5":{"start":{"line":11,"column":2},"end":{"line":11,"column":30}},"6":{"start":{"line":13,"column":2},"end":{"line":13,"column":15}},"7":{"start":{"line":14,"column":2},"end":{"line":14,"column":21}},"8":{"start":{"line":15,"column":2},"end":{"line":15,"column":29}},"9":{"start":{"line":16,"column":2},"end":{"line":16,"column":21}},"10":{"start":{"line":17,"column":2},"end":{"line":17,"column":25}},"11":{"start":{"line":18,"column":2},"end":{"line":18,"column":23}},"12":{"start":{"line":21,"column":15},"end":{"line":21,"column":19}},"13":{"start":{"line":22,"column":0},"end":{"line":22,"column":30}}},"fnMap":{"0":{"name":"_classCallCheck","decl":{"start":{"line":8,"column":9},"end":{"line":8,"column":24}},"loc":{"start":{"line":8,"column":48},"end":{"line":8,"column":153}},"line":8},"1":{"name":"Blog","decl":{"start":{"line":10,"column":20},"end":{"line":10,"column":24}},"loc":{"start":{"line":10,"column":71},"end":{"line":19,"column":1}},"line":10}},"branchMap":{"0":{"loc":{"start":{"line":8,"column":50},"end":{"line":8,"column":151}},"type":"if","locations":[{"start":{"line":8,"column":50},"end":{"line":8,"column":151}},{"start":{"line":8,"column":50},"end":{"line":8,"column":151}}],"line":8}},"s":{"0":1,"1":1,"2":0,"3":0,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1},"f":{"0":0,"1":0},"b":{"0":[0,0]},"inputSourceMap":{"version":3,"sources":["blog.model.js"],"names":["Blog","id","email","createdOn","title","content","author"],"mappings":";;;;;;;;;IAAMA,I,GACF,cAAYC,EAAZ,EAAgBC,KAAhB,EAAuBC,SAAvB,EAAkCC,KAAlC,EAAyCC,OAAzC,EAAkDC,MAAlD,EAA0D;AAAA;;AACxD,OAAKL,EAAL,GAAUA,EAAV;AACA,OAAKC,KAAL,GAAaA,KAAb;AACA,OAAKC,SAAL,GAAiBA,SAAjB;AACA,OAAKC,KAAL,GAAaA,KAAb;AACA,OAAKC,OAAL,GAAeA,OAAf;AACA,OAAKC,MAAL,GAAcA,MAAd;AACD,C;;eAGYN,I","sourceRoot":"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\models\\","sourcesContent":["class Blog {\r\n    constructor(id, email, createdOn, title, content, author) {\r\n      this.id = id;\r\n      this.email = email;\r\n      this.createdOn = createdOn;\r\n      this.title = title;\r\n      this.content = content;\r\n      this.author = author;\r\n    }\r\n  }\r\n  \r\n  export default Blog;\r\n  "]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"32ef2dd7debc50be68667b9f406e2f5d8ee21f3b","contentHash":"767a385ebdf0fe52385c54bbd1534ea0710f76f92b3e573741a794d1257cb1b3"},"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\routes\\message.route.js":{"path":"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\routes\\message.route.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":57}},"3":{"start":{"line":10,"column":15},"end":{"line":10,"column":82}},"4":{"start":{"line":12,"column":23},"end":{"line":12,"column":63}},"5":{"start":{"line":14,"column":16},"end":{"line":14,"column":59}},"6":{"start":{"line":16,"column":39},"end":{"line":16,"column":95}},"7":{"start":{"line":18,"column":21},"end":{"line":18,"column":49}},"8":{"start":{"line":20,"column":0},"end":{"line":20,"column":83}},"9":{"start":{"line":21,"column":0},"end":{"line":21,"column":95}},"10":{"start":{"line":22,"column":0},"end":{"line":22,"column":97}},"11":{"start":{"line":23,"column":0},"end":{"line":23,"column":103}},"12":{"start":{"line":24,"column":15},"end":{"line":24,"column":29}},"13":{"start":{"line":25,"column":0},"end":{"line":25,"column":30}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":16,"column":9},"end":{"line":16,"column":31}},"loc":{"start":{"line":16,"column":37},"end":{"line":16,"column":97}},"line":16}},"branchMap":{"0":{"loc":{"start":{"line":16,"column":46},"end":{"line":16,"column":94}},"type":"cond-expr","locations":[{"start":{"line":16,"column":70},"end":{"line":16,"column":73}},{"start":{"line":16,"column":76},"end":{"line":16,"column":94}}],"line":16},"1":{"loc":{"start":{"line":16,"column":46},"end":{"line":16,"column":67}},"type":"binary-expr","locations":[{"start":{"line":16,"column":46},"end":{"line":16,"column":49}},{"start":{"line":16,"column":53},"end":{"line":16,"column":67}}],"line":16}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":2,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1},"f":{"0":2},"b":{"0":[1,1],"1":[2,2]},"inputSourceMap":{"version":3,"sources":["message.route.js"],"names":["messagesRouter","express","Router","post","validateMessageInput","createNewMessage","get","verifyAdminToken","getAllMessages","getOneMessage","deleteMessage"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAGA,IAAMA,cAAc,GAAGC,oBAAQC,MAAR,EAAvB;;AAGAF,cAAc,CAACG,IAAf,CAAoB,UAApB,EAAgC,CAACC,mBAAD,CAAhC,EAAwDC,0BAAxD;AAEAL,cAAc,CAACM,GAAf,CAAmB,WAAnB,EAAgC,CAACC,iCAAD,CAAhC,EAAoDC,wBAApD;AAEAR,cAAc,CAACM,GAAf,CAAmB,cAAnB,EAAmC,CAACC,iCAAD,CAAnC,EAAuDE,uBAAvD;AAEAT,cAAc,UAAd,CAAsB,cAAtB,EAAsC,CAACO,iCAAD,CAAtC,EAA0DG,uBAA1D;eAGeV,c","sourceRoot":"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\routes\\","sourcesContent":["import express from 'express';\r\nimport validateMessageInput  from '../middleware/message.validation';\r\nimport { verifyAdminToken } from '../middleware/verifyAuthToken';\r\nimport { createNewMessage, getAllMessages, getOneMessage, deleteMessage  } from '../controller/message.controller';\r\n\r\n\r\nconst messagesRouter = express.Router();\r\n\r\n\r\nmessagesRouter.post('/message', [validateMessageInput], createNewMessage);\r\n\r\nmessagesRouter.get('/message/', [verifyAdminToken], getAllMessages);\r\n\r\nmessagesRouter.get('/message/:id', [verifyAdminToken], getOneMessage);\r\n\r\nmessagesRouter.delete('/message/:id', [verifyAdminToken], deleteMessage);\r\n\r\n\r\nexport default messagesRouter;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f44859a0ec500ef26cca41cd83843ad36186d632","contentHash":"bd2f894cd049a1151945406cd55a9463585e6f1c7b258435dfa38633b60f5afd"},"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\middleware\\message.validation.js":{"path":"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\middleware\\message.validation.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":73}},"3":{"start":{"line":10,"column":39},"end":{"line":10,"column":95}},"4":{"start":{"line":12,"column":27},"end":{"line":21,"column":1}},"5":{"start":{"line":13,"column":22},"end":{"line":13,"column":51}},"6":{"start":{"line":14,"column":14},"end":{"line":14,"column":33}},"7":{"start":{"line":16,"column":2},"end":{"line":19,"column":5}},"8":{"start":{"line":16,"column":13},"end":{"line":19,"column":5}},"9":{"start":{"line":20,"column":2},"end":{"line":20,"column":9}},"10":{"start":{"line":23,"column":15},"end":{"line":23,"column":35}},"11":{"start":{"line":24,"column":0},"end":{"line":24,"column":30}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":97}},"line":10},"1":{"name":"validateMessageInput","decl":{"start":{"line":12,"column":36},"end":{"line":12,"column":56}},"loc":{"start":{"line":12,"column":73},"end":{"line":21,"column":1}},"line":12}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":94}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":94}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10},"2":{"loc":{"start":{"line":16,"column":2},"end":{"line":19,"column":5}},"type":"if","locations":[{"start":{"line":16,"column":2},"end":{"line":19,"column":5}},{"start":{"line":16,"column":2},"end":{"line":19,"column":5}}],"line":16}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":1,"11":1},"f":{"0":1,"1":0},"b":{"0":[1,0],"1":[1,1],"2":[0,0]},"inputSourceMap":{"version":3,"sources":["message.validation.js"],"names":["validateMessageInput","req","res","next","error","status","json","statusCode","details","message"],"mappings":";;;;;;;AAAA;;;;AAEA,IAAMA,oBAAoB,GAAG,SAAvBA,oBAAuB,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAAA,sBAC7B,yBAAaF,GAAb,CAD6B;AAAA,MACvCG,KADuC,iBACvCA,KADuC;;AAE/C,MAAIA,KAAJ,EAAW,OAAOF,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,IAAAA,MAAM,EAAEH,GAAG,CAACK,UAAd;AAA0BH,IAAAA,KAAK,EAAEA,KAAK,CAACI,OAAN,CAAc,CAAd,EAAiBC;AAAlD,GAArB,CAAP;AAEXN,EAAAA,IAAI;AACL,CALD;;eAOeH,oB","sourceRoot":"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\middleware\\","sourcesContent":["import messageInput from '../helper/message.input';\r\n\r\nconst validateMessageInput = (req, res, next) => {\r\n  const { error } = messageInput(req);\r\n  if (error) return res.status(400).json({ status: res.statusCode, error: error.details[0].message });\r\n\r\n  next();\r\n};\r\n\r\nexport default validateMessageInput;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6f5f7b77287f49d16f899615ac78d49cd2dc6406","contentHash":"700c9207a8b8b0020f0d23ee027d80afe025465a42cbae17220b352843823938"},"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\helper\\message.input.js":{"path":"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\helper\\message.input.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":8,"column":11},"end":{"line":8,"column":55}},"3":{"start":{"line":10,"column":39},"end":{"line":10,"column":95}},"4":{"start":{"line":12,"column":19},"end":{"line":20,"column":1}},"5":{"start":{"line":13,"column":15},"end":{"line":17,"column":4}},"6":{"start":{"line":19,"column":2},"end":{"line":19,"column":35}},"7":{"start":{"line":22,"column":15},"end":{"line":22,"column":27}},"8":{"start":{"line":23,"column":0},"end":{"line":23,"column":30}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":97}},"line":10},"1":{"name":"messageInput","decl":{"start":{"line":12,"column":28},"end":{"line":12,"column":40}},"loc":{"start":{"line":12,"column":46},"end":{"line":20,"column":1}},"line":12}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":94}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":94}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":1,"8":1},"f":{"0":1,"1":0},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["message.input.js"],"names":["messageInput","req","schema","Joi","object","keys","email","string","required","name","min","max","message","validate","body"],"mappings":";;;;;;;AAAA;;;;AAEA,IAAMA,YAAY,GAAG,SAAfA,YAAe,CAACC,GAAD,EAAS;AAC1B,MAAMC,MAAM,GAAGC,gBAAIC,MAAJ,GAAaC,IAAb,CAAkB;AAC7BC,IAAAA,KAAK,EAAEH,gBAAII,MAAJ,GAAaC,QAAb,GAAwBF,KAAxB,EADsB;AAE7BG,IAAAA,IAAI,EAAEN,gBAAII,MAAJ,GAAaC,QAAb,GAAwBE,GAAxB,CAA4B,CAA5B,EAA+BC,GAA/B,CAAmC,EAAnC,CAFuB;AAG7BC,IAAAA,OAAO,EAAET,gBAAII,MAAJ,GAAaC,QAAb;AAHoB,GAAlB,CAAf;;AAMA,SAAON,MAAM,CAACW,QAAP,CAAgBZ,GAAG,CAACa,IAApB,CAAP;AACH,CARD;;eAUed,Y","sourceRoot":"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\helper\\","sourcesContent":["import Joi from '@hapi/joi';\r\n\r\nconst messageInput = (req) => {\r\n    const schema = Joi.object().keys({\r\n        email: Joi.string().required().email(),\r\n        name: Joi.string().required().min(2).max(50),\r\n        message: Joi.string().required(),\r\n    });\r\n  \r\n    return schema.validate(req.body);\r\n}\r\n\r\nexport default messageInput;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"3d1e86d43b4c2f7f878d3f59f886328c8aecebbd","contentHash":"f262ebb21f255df800e0ca24a807c450f4c788f8e95b14120417accdfa7650e5"},"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\controller\\message.controller.js":{"path":"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\controller\\message.controller.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":107}},"2":{"start":{"line":8,"column":12},"end":{"line":8,"column":27}},"3":{"start":{"line":10,"column":15},"end":{"line":10,"column":73}},"4":{"start":{"line":12,"column":39},"end":{"line":12,"column":95}},"5":{"start":{"line":14,"column":0},"end":{"line":14,"column":16}},"6":{"start":{"line":15,"column":15},"end":{"line":15,"column":17}},"7":{"start":{"line":17,"column":23},"end":{"line":26,"column":1}},"8":{"start":{"line":18,"column":11},"end":{"line":18,"column":26}},"9":{"start":{"line":19,"column":16},"end":{"line":19,"column":121}},"10":{"start":{"line":20,"column":2},"end":{"line":20,"column":25}},"11":{"start":{"line":21,"column":2},"end":{"line":25,"column":5}},"12":{"start":{"line":28,"column":0},"end":{"line":28,"column":44}},"13":{"start":{"line":30,"column":21},"end":{"line":45,"column":1}},"14":{"start":{"line":31,"column":21},"end":{"line":33,"column":4}},"15":{"start":{"line":32,"column":4},"end":{"line":32,"column":19}},"16":{"start":{"line":34,"column":2},"end":{"line":37,"column":5}},"17":{"start":{"line":34,"column":21},"end":{"line":37,"column":5}},"18":{"start":{"line":38,"column":20},"end":{"line":40,"column":4}},"19":{"start":{"line":39,"column":4},"end":{"line":39,"column":77}},"20":{"start":{"line":41,"column":2},"end":{"line":44,"column":5}},"21":{"start":{"line":47,"column":0},"end":{"line":47,"column":40}},"22":{"start":{"line":49,"column":20},"end":{"line":61,"column":1}},"23":{"start":{"line":50,"column":16},"end":{"line":52,"column":4}},"24":{"start":{"line":51,"column":4},"end":{"line":51,"column":40}},"25":{"start":{"line":53,"column":2},"end":{"line":56,"column":5}},"26":{"start":{"line":53,"column":16},"end":{"line":56,"column":5}},"27":{"start":{"line":57,"column":2},"end":{"line":60,"column":5}},"28":{"start":{"line":63,"column":0},"end":{"line":63,"column":38}},"29":{"start":{"line":65,"column":20},"end":{"line":79,"column":1}},"30":{"start":{"line":66,"column":16},"end":{"line":68,"column":4}},"31":{"start":{"line":67,"column":4},"end":{"line":67,"column":40}},"32":{"start":{"line":69,"column":2},"end":{"line":72,"column":5}},"33":{"start":{"line":69,"column":16},"end":{"line":72,"column":5}},"34":{"start":{"line":73,"column":14},"end":{"line":73,"column":39}},"35":{"start":{"line":74,"column":2},"end":{"line":74,"column":28}},"36":{"start":{"line":75,"column":2},"end":{"line":78,"column":5}},"37":{"start":{"line":81,"column":0},"end":{"line":81,"column":38}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":31}},"loc":{"start":{"line":12,"column":37},"end":{"line":12,"column":97}},"line":12},"1":{"name":"createNewMessage","decl":{"start":{"line":17,"column":32},"end":{"line":17,"column":48}},"loc":{"start":{"line":17,"column":59},"end":{"line":26,"column":1}},"line":17},"2":{"name":"getAllMessages","decl":{"start":{"line":30,"column":30},"end":{"line":30,"column":44}},"loc":{"start":{"line":30,"column":55},"end":{"line":45,"column":1}},"line":30},"3":{"name":"(anonymous_3)","decl":{"start":{"line":31,"column":35},"end":{"line":31,"column":36}},"loc":{"start":{"line":31,"column":54},"end":{"line":33,"column":3}},"line":31},"4":{"name":"(anonymous_4)","decl":{"start":{"line":38,"column":34},"end":{"line":38,"column":35}},"loc":{"start":{"line":38,"column":50},"end":{"line":40,"column":3}},"line":38},"5":{"name":"getOneMessage","decl":{"start":{"line":49,"column":29},"end":{"line":49,"column":42}},"loc":{"start":{"line":49,"column":53},"end":{"line":61,"column":1}},"line":49},"6":{"name":"(anonymous_6)","decl":{"start":{"line":50,"column":30},"end":{"line":50,"column":31}},"loc":{"start":{"line":50,"column":49},"end":{"line":52,"column":3}},"line":50},"7":{"name":"deleteMessage","decl":{"start":{"line":65,"column":29},"end":{"line":65,"column":42}},"loc":{"start":{"line":65,"column":53},"end":{"line":79,"column":1}},"line":65},"8":{"name":"(anonymous_8)","decl":{"start":{"line":66,"column":30},"end":{"line":66,"column":31}},"loc":{"start":{"line":66,"column":49},"end":{"line":68,"column":3}},"line":66}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":94}},"type":"cond-expr","locations":[{"start":{"line":12,"column":70},"end":{"line":12,"column":73}},{"start":{"line":12,"column":76},"end":{"line":12,"column":94}}],"line":12},"1":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":67}},"type":"binary-expr","locations":[{"start":{"line":12,"column":46},"end":{"line":12,"column":49}},{"start":{"line":12,"column":53},"end":{"line":12,"column":67}}],"line":12},"2":{"loc":{"start":{"line":34,"column":2},"end":{"line":37,"column":5}},"type":"if","locations":[{"start":{"line":34,"column":2},"end":{"line":37,"column":5}},{"start":{"line":34,"column":2},"end":{"line":37,"column":5}}],"line":34},"3":{"loc":{"start":{"line":53,"column":2},"end":{"line":56,"column":5}},"type":"if","locations":[{"start":{"line":53,"column":2},"end":{"line":56,"column":5}},{"start":{"line":53,"column":2},"end":{"line":56,"column":5}}],"line":53},"4":{"loc":{"start":{"line":69,"column":2},"end":{"line":72,"column":5}},"type":"if","locations":[{"start":{"line":69,"column":2},"end":{"line":72,"column":5}},{"start":{"line":69,"column":2},"end":{"line":72,"column":5}}],"line":69}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":1,"23":0,"24":0,"25":0,"26":0,"27":0,"28":1,"29":1,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":1},"f":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"b":{"0":[1,0],"1":[1,1],"2":[0,0],"3":[0,0],"4":[0,0]},"inputSourceMap":{"version":3,"sources":["message.controller.js"],"names":["messages","createNewMessage","req","res","id","message","Messages","Date","toLocaleString","body","email","name","push","status","json","data","getAllMessages","messageFound","find","error","allMessages","sort","a","b","createdOn","getTime","getOneMessage","params","deleteMessage","index","indexOf","splice"],"mappings":"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","sourceRoot":"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\controller\\","sourcesContent":["import { v4 as uuidv4 } from 'uuid';\r\nimport Messages from '../models/message.modal';\r\n\r\nuuidv4();\r\n\r\nconst messages = [ ];\r\n\r\n\r\nconst createNewMessage = (req, res) => {\r\n\r\n    const id = uuidv4();\r\n\r\n  const message = new Messages(id, new Date().toLocaleString(), req.body.email, req.body.name, req.body.message);\r\n\r\n  messages.push(message);\r\n\r\n  res.status(201).json({ status: 201, message: 'message successfully created', data: message });\r\n};\r\n\r\nconst getAllMessages = (req, res) => {\r\n\r\n    const messageFound = messages.find((message) => message );\r\n  \r\n    if (!messageFound) return res.status(404).json({ status: 404, error: 'No available messages' });\r\n\r\n    const allMessages = messages.sort((a, b) => (new Date(b.createdOn)).getTime()\r\n    - (new Date(a.createdOn).getTime()));\r\n  \r\n    res.status(200).json({ status: 200, data: allMessages });\r\n};\r\n\r\nconst getOneMessage = (req, res) => {\r\nconst message = messages.find((message) => message.id === req.params.id );\r\n\r\nif (!message) return res.status(404).json({ status: 404, error: `There is no message with id: ${req.params.id} ` });\r\n\r\nreturn res.status(200).json({ status: 200, data: message });\r\n};\r\n\r\nconst deleteMessage = (req, res) => {\r\n     \r\n    const message = messages.find((message) => message.id === req.params.id );\r\n  \r\n    if (!message) return res.status(404).json({ status: 404, error: `There is no message with id: ${req.params.id} ` });\r\n  \r\n    const index = messages.indexOf(message);\r\n  \r\n    messages.splice(index, 1);\r\n  \r\n    return res.status(200).json({ status: 200, message: 'message successfully deleted' });\r\n};\r\n  \r\n\r\nexport { createNewMessage, getAllMessages, getOneMessage, deleteMessage };\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"233ff48d83b91d0376e3b5c85dbb758037695858","contentHash":"f8ef365580cc3af4647f574fba12f4317b0f7bd28c579d3d6c6080dd8132481b"},"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\models\\message.modal.js":{"path":"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\models\\message.modal.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":8,"column":50},"end":{"line":8,"column":151}},"3":{"start":{"line":8,"column":92},"end":{"line":8,"column":149}},"4":{"start":{"line":10,"column":15},"end":{"line":18,"column":1}},"5":{"start":{"line":11,"column":2},"end":{"line":11,"column":34}},"6":{"start":{"line":13,"column":2},"end":{"line":13,"column":15}},"7":{"start":{"line":14,"column":2},"end":{"line":14,"column":29}},"8":{"start":{"line":15,"column":2},"end":{"line":15,"column":21}},"9":{"start":{"line":16,"column":2},"end":{"line":16,"column":19}},"10":{"start":{"line":17,"column":2},"end":{"line":17,"column":25}},"11":{"start":{"line":20,"column":15},"end":{"line":20,"column":23}},"12":{"start":{"line":21,"column":0},"end":{"line":21,"column":30}}},"fnMap":{"0":{"name":"_classCallCheck","decl":{"start":{"line":8,"column":9},"end":{"line":8,"column":24}},"loc":{"start":{"line":8,"column":48},"end":{"line":8,"column":153}},"line":8},"1":{"name":"Messages","decl":{"start":{"line":10,"column":24},"end":{"line":10,"column":32}},"loc":{"start":{"line":10,"column":70},"end":{"line":18,"column":1}},"line":10}},"branchMap":{"0":{"loc":{"start":{"line":8,"column":50},"end":{"line":8,"column":151}},"type":"if","locations":[{"start":{"line":8,"column":50},"end":{"line":8,"column":151}},{"start":{"line":8,"column":50},"end":{"line":8,"column":151}}],"line":8}},"s":{"0":1,"1":1,"2":0,"3":0,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1,"12":1},"f":{"0":0,"1":0},"b":{"0":[0,0]},"inputSourceMap":{"version":3,"sources":["message.modal.js"],"names":["Messages","id","createdOn","email","name","message"],"mappings":";;;;;;;;;IAAMA,Q,GACF,kBAAYC,EAAZ,EAAgBC,SAAhB,EAA2BC,KAA3B,EAAkCC,IAAlC,EAAwCC,OAAxC,EAAiD;AAAA;;AAC/C,OAAKJ,EAAL,GAAUA,EAAV;AACA,OAAKC,SAAL,GAAiBA,SAAjB;AACA,OAAKC,KAAL,GAAaA,KAAb;AACA,OAAKC,IAAL,GAAYA,IAAZ;AACA,OAAKC,OAAL,GAAeA,OAAf;AACD,C;;eAGYL,Q","sourceRoot":"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\models\\","sourcesContent":["class Messages {\r\n    constructor(id, createdOn, email, name, message) {\r\n      this.id = id;\r\n      this.createdOn = createdOn;\r\n      this.email = email;\r\n      this.name = name;\r\n      this.message = message;\r\n    }\r\n  }\r\n  \r\n  export default Messages;\r\n  "]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"df16d0a416f7c86faba808eea73a561aa139b281","contentHash":"f807761be2ba708aee1945eda15bdb90e4b0fa2473333876b09b42552e39cd4d"},"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\config\\configulation.js":{"path":"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\config\\configulation.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":8,"column":14},"end":{"line":8,"column":55}},"3":{"start":{"line":10,"column":39},"end":{"line":10,"column":95}},"4":{"start":{"line":12,"column":0},"end":{"line":12,"column":28}},"5":{"start":{"line":14,"column":13},"end":{"line":16,"column":1}},"6":{"start":{"line":17,"column":15},"end":{"line":17,"column":21}},"7":{"start":{"line":18,"column":0},"end":{"line":18,"column":30}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":97}},"line":10}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":94}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":94}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10},"2":{"loc":{"start":{"line":15,"column":8},"end":{"line":15,"column":32}},"type":"binary-expr","locations":[{"start":{"line":15,"column":8},"end":{"line":15,"column":24}},{"start":{"line":15,"column":28},"end":{"line":15,"column":32}}],"line":15}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{"0":1},"b":{"0":[0,1],"1":[1,1],"2":[1,1]},"inputSourceMap":{"version":3,"sources":["configulation.js"],"names":["dotenv","config","port","process","env","PORT"],"mappings":";;;;;;;AAAA;;;;AAEAA,mBAAOC,MAAP;;AAGA,IAAMA,MAAM,GAAG;AACbC,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,IAAZ,IAAoB;AADb,CAAf;eAKeJ,M","sourceRoot":"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\config\\","sourcesContent":["import dotenv from 'dotenv';\r\n\r\ndotenv.config();\r\n\r\n\r\nconst config = {\r\n  port: process.env.PORT || 6000\r\n\r\n};\r\n\r\nexport default config;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d433437054f320942673b0ea9740249847dbf49c","contentHash":"2b5702b368acb611ff1b110ff9c7c5da25d286a3aac13f11d25f2358335ef3e3"},"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\models\\user.test.data.js":{"path":"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\models\\user.test.data.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":7,"column":16},"end":{"line":53,"column":2}},"3":{"start":{"line":54,"column":15},"end":{"line":54,"column":24}},"4":{"start":{"line":55,"column":0},"end":{"line":55,"column":30}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["user.test.data.js"],"names":["usersTest","email","password","role","name"],"mappings":";;;;;;AAAA,IAAMA,SAAS,GAAG,CAEd;AACA;AACIC,EAAAA,KAAK,EAAE,kBADX;AAEIC,EAAAA,QAAQ,EAAE,QAFd;AAGIC,EAAAA,IAAI,EAAG;AAHX,CAHc,EAQd;AACIC,EAAAA,IAAI,EAAE,QADV;AAEIH,EAAAA,KAAK,EAAE,WAFX;AAGIC,EAAAA,QAAQ,EAAE,QAHd;AAIIC,EAAAA,IAAI,EAAG;AAJX,CARc,EAcd;AACIC,EAAAA,IAAI,EAAE,QADV;AAEIH,EAAAA,KAAK,EAAE,kBAFX;AAGIC,EAAAA,QAAQ,EAAE,IAHd;AAIIC,EAAAA,IAAI,EAAG;AAJX,CAdc,EAoBd;AACIC,EAAAA,IAAI,EAAE,QADV;AAEIH,EAAAA,KAAK,EAAE,kBAFX;AAGIC,EAAAA,QAAQ,EAAE,QAHd;AAIIC,EAAAA,IAAI,EAAG;AAJX,CApBc,EA0Bd;AACIC,EAAAA,IAAI,EAAE,QADV;AAEIH,EAAAA,KAAK,EAAE,kBAFX;AAGIC,EAAAA,QAAQ,EAAE,QAHd;AAIIC,EAAAA,IAAI,EAAG;AAJX,CA1Bc,EAmCd;AAEA;AACID,EAAAA,QAAQ,EAAE;AADd,CArCc,EAwCd;AACID,EAAAA,KAAK,EAAE,kBADX;AAEIC,EAAAA,QAAQ,EAAE;AAFd,CAxCc,EA4Cd;AACID,EAAAA,KAAK,EAAE,iBADX;AAEIC,EAAAA,QAAQ,EAAE;AAFd,CA5Cc,EAgDd;AACID,EAAAA,KAAK,EAAE,kBADX;AAEIC,EAAAA,QAAQ,EAAE;AAFd,CAhDc,EAoDd;AACID,EAAAA,KAAK,EAAE,kBADX;AAEIC,EAAAA,QAAQ,EAAE;AAFd,CApDc,CAyDd;AAzDc,EA2Dd;AACIE,EAAAA,IAAI,EAAE,OADV;AAEIH,EAAAA,KAAK,EAAE,sBAFX;AAGIC,EAAAA,QAAQ,EAAE,QAHd;AAIIC,EAAAA,IAAI,EAAG;AAJX,CA3Dc,CAAlB;eAuEiBH,S","sourceRoot":"C:\\Users\\HN~Fiston\\Desktop\\software project\\Capstone progect\\backend-blog-api\\src\\models\\","sourcesContent":["const usersTest = [\r\n\r\n    // signup 0---4\r\n    {\r\n        email: 'fiston@gmail.com',\r\n        password: '111111',\r\n        role : 'guest'\r\n    },\r\n    {\r\n        name: 'fiston',\r\n        email: 'fmail.com',\r\n        password: '111111',\r\n        role : 'guest'\r\n    },\r\n    {\r\n        name: 'fiston',\r\n        email: 'fiston@gmail.com',\r\n        password: '11',\r\n        role : 'guest'\r\n    },\r\n    {\r\n        name: 'fiston',\r\n        email: 'fiston@gmail.com',\r\n        password: '111111',\r\n        role : 'guest'\r\n    },\r\n    {\r\n        name: 'fiston',\r\n        email: 'fiston@gmail.com',\r\n        password: '111111',\r\n        role : 'guest'\r\n    },\r\n\r\n\r\n\r\n    // login 5---9\r\n\r\n    {\r\n        password: '111111'\r\n    },\r\n    {\r\n        email: 'fiston@gmail.com',\r\n        password: 111111\r\n    },\r\n    {\r\n        email: 'jules@gmail.com',\r\n        password: '111111'\r\n    },\r\n    {\r\n        email: 'fiston@gmail.com',\r\n        password: 'zzzzzz'\r\n    },\r\n    {\r\n        email: 'fiston@gmail.com',\r\n        password: '111111'\r\n    }\r\n\r\n    // create admin \r\n    ,\r\n    {\r\n        name: 'jules',\r\n        email: 'julesNtare@gmail.com',\r\n        password: '111111',\r\n        role : 'admin'\r\n    },\r\n\r\n\r\n\r\n  \r\n  ];\r\n  \r\n  export default usersTest;\r\n  "]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"98a729439dde0e5ce12c682077f15542a21b4760","contentHash":"920d748b3e526bbf79f6e02ccc9f73126fc5f334ad8c484ac84d2f25f415f357"}}